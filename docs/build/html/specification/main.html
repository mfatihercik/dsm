

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Introduction &mdash; Declarative Stream Mapping (DSM) 1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'1',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/contentui.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="&lt;no title&gt;" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Declarative Stream Mapping (DSM)
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Quick Start Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick-start-guide.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-start-guide.html#simple-example">Simple Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-start-guide.html#features">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-start-guide.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-start-guide.html#sample-config-file">Sample Config File</a></li>
</ul>
<p class="caption"><span class="caption-text">Specification:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="#definitions">Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="#format">Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-structure">Document Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="#schema">Schema</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dsm-object">DSM Object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">params</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">fragments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">result</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">$extends</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#parsing-element">Parsing Element Object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">fieldName</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">typeParams</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">tagType</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id14">std</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">object</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">array</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">sum</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">multiply</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19">divide</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id20">join</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id21">tagTypeParams</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tagpath-and-tagparentpath">tagPath and tagParentPath</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fields">fields</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#type-of-value-definition">Type of Value Definition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id23">filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">default</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id25">transformationCode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id26">function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id27">uniqueName</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id28">normalize</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id29">xml</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id30">$ref</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#transformation-element">Transformation Element Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id34">Default Object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id35">value</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id36">force</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id37">XML Object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id38">attribute</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#absolute-tag-path">Absolute Tag Path</a></li>
<li class="toctree-l1"><a class="reference internal" href="#expression">Expressions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#loading-time-expression">Loading Time Expression</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example"><strong>Example</strong></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#parsing-time-expression">Parsing Time Expression</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id40">all</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id41">self</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id42"><strong>Example</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#merge-of-dsm-document">Merge of DSM Document</a></li>
<li class="toctree-l1"><a class="reference internal" href="#property-assignment-order">Property Assignment Order</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Declarative Stream Mapping (DSM)</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">&lt;no title&gt;</a> &raquo;</li>
        
      <li>Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/specification/main.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>Declarative Stream Mapping(DSM) is a stream deserializer library that works for both XML and JSON. DSM allows you to make custom parsing, filtering, transforming, aggregating, grouping on any JSON or XML document at stream time(read once). There is no need to writing custom parser. DSM use yaml or json configuration file to parse data. Processed data can be deserialized to java classes.</p>
</div>
<div class="section" id="definitions">
<h1>Definitions<a class="headerlink" href="#definitions" title="Permalink to this headline">¶</a></h1>
<dl class="docutils">
<dt><span class="target" id="dsm-document">DSM Document</span>:</dt>
<dd>A document (or set of documents) that defines or describes parsing  element definition uses and conforms to the DSM Specification.</dd>
<dt><span class="target" id="source-document">Source Document</span>:</dt>
<dd>Document(File, Stream, String, HTTP Request Payload) contains JSON or XML data.</dd>
</dl>
</div>
<div class="section" id="format">
<h1>Format<a class="headerlink" href="#format" title="Permalink to this headline">¶</a></h1>
<p>DSM document is a JSON object, which maybe represented either in JSON or YAML format.
All field names in the specification are case sensitive. This includes all fields that are used as keys in a map, except where explicitly noted that keys are case insensitive.</p>
</div>
<div class="section" id="document-structure">
<h1>Document Structure<a class="headerlink" href="#document-structure" title="Permalink to this headline">¶</a></h1>
<p>DSM document may be made up single document or  divided into multiple connected  parts at the discretion of the user.
In later case, <a class="reference internal" href="#extends">$extends</a> fields must be used to reference those parts.</p>
</div>
<div class="section" id="schema">
<h1>Schema<a class="headerlink" href="#schema" title="Permalink to this headline">¶</a></h1>
<p>In the following description, if a field is not explicitly REQUIRED or described with a MUST or SHALL, it can be considered OPTIONAL.</p>
<div class="section" id="dsm-object">
<h2>DSM Object<a class="headerlink" href="#dsm-object" title="Permalink to this headline">¶</a></h2>
<p>This is the root document object of the DSM document.</p>
<dl class="docutils">
<dt>Fields:</dt>
<dd><table border="1" class="first last docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Field Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">version</th>
<td>string</td>
<td><strong>REQUIRED</strong>. This string MUST be the semantic version number of the DSM Specification version that the DSM document uses. The DSM field SHOULD be used by tooling specifications and clients to interpret the DSM document</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#params">params</a></th>
<td>Map[string,any]</td>
<td><strong>params_</strong> field is a map that contains parameter definition to configure DSM document and <a href="#id1"><span class="problematic" id="id2">`</span></a>Parsing Element`_s.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#transformations">transformations</a></th>
<td>Map[string,`Transformation Element`_]</td>
<td>Deceleration of Map contains  <a class="reference internal" href="#transformationcode">transformationCode</a> as key, and <a class="reference internal" href="#transformation-element">Transformation Element</a> as value. <a class="reference internal" href="#transformation-element">Transformation Element</a> holds lookup table to transform value from <a class="reference internal" href="#source-document">Source Document</a> to destination document.</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#functions">functions</a></th>
<td>Map[string,Function_]</td>
<td>Deceleration of Map contains <a class="reference internal" href="#function">function</a> name  as key, and  <a class="reference internal" href="#functions">function deceleration</a> as value.  functions are  used for custom parsing or calling services with parsed data. Functions implements FunctionExecutor interface.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#fragments">fragments</a></th>
<td>Map [String, <a class="reference internal" href="#parsing-element">Parsing Element</a> ]</td>
<td>A map contains declaration of reusable <a class="reference internal" href="#parsing-element">Parsing Element</a>. The fragment definition can be referenced with $ref_ field while defining <a class="reference internal" href="#parsing-element">Parsing Element</a>.</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#result">result</a></th>
<td><a class="reference internal" href="#parsing-element">Parsing Element</a></td>
<td><strong>REQUIRED</strong>. The entry point of <a class="reference internal" href="#parsing-element">Parsing Element</a> declarations. The result field defines structure of the output.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#extends">$extends</a></th>
<td>string</td>
<td><strong>`$extends`_</strong> field is used for import external DSM document.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<div class="section" id="id3">
<h3><span class="target" id="params">params</span><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p><a class="reference internal" href="#params">params</a> field is a map that contains parameter definition to configure DSM document and <a class="reference internal" href="#parsing-element">Parsing Element</a>. The key of params map is string and case sensitive. The value of params map can be any type of json object(int, boolean, object, array) accepted by JSON and YAML specification.</p>
<p>Example DSM document that contains params.</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">dateFormat</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dd.MM.yyyy</span>
    <span class="l l-Scalar l-Scalar-Plain">rootPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">fooBar/foo</span>
    <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">foo</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
    <span class="l l-Scalar l-Scalar-Plain">acceptedCountryCode</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">TR</span><span class="p p-Indicator">,</span><span class="nv">US</span><span class="p p-Indicator">,</span><span class="nv">FR</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:{</span>
          <span class="nt">&quot;dateFormat&quot;</span><span class="p">:</span><span class="s2">&quot;dd.MM.yyyy&quot;</span><span class="p">,</span>
          <span class="nt">&quot;rootPath&quot;</span><span class="p">:</span><span class="s2">&quot;fooBar/foo&quot;</span><span class="p">,</span>
          <span class="nt">&quot;category&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="s2">&quot;bar&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;acceptedCountryCode&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;TR&quot;</span><span class="p">,</span><span class="s2">&quot;US&quot;</span><span class="p">,</span><span class="s2">&quot;FR&quot;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id4">
<h3><span class="target" id="transformations">transformations</span><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>Deceleration of Map contains  <a class="reference internal" href="#transformationcode">transformationCode</a> as key, and <a class="reference internal" href="#transformation-element">Transformation Element</a> as value. <a class="reference internal" href="#transformation-element">Transformation Element</a> holds lookup table to transform value from <a class="reference internal" href="#source-document">Source Document</a> to destination document.</p>
<p>Example CF document that contains transformations</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<blockquote>
<div><div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">transformations</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">COUNTRY_CODE_TO_NAME</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">map</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">DEFAULT</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Other</span>
          <span class="l l-Scalar l-Scalar-Plain">TR</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Turkey</span>
          <span class="l l-Scalar l-Scalar-Plain">US</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">United States</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>

   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;transformations&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;COUNTRY_CODE_TO_NAME&quot;</span><span class="p">:{</span>
       <span class="nt">&quot;map&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;TR&quot;</span><span class="p">:</span><span class="s2">&quot;Turkey&quot;</span><span class="p">,</span>
         <span class="nt">&quot;US&quot;</span><span class="p">:</span><span class="s2">&quot;United States&quot;</span><span class="p">,</span>
         <span class="nt">&quot;DEFAULT&quot;</span><span class="p">:</span><span class="s2">&quot;Other&quot;</span>
       <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">}</span>

 <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id5">
<h3><span class="target" id="functions">functions</span><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>Deceleration of Map contains <a class="reference internal" href="#function">function</a> name  as key, and  <a class="reference internal" href="#functions">function deceleration</a> as value.  functions are  used for custom parsing or calling services with parsed data. Functions implements FunctionExecutor interface.</p>
<p>Example CF document that contains functions</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<blockquote>
<div><div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">functions</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">insertProduct</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">com.example.InsertProduct</span>
   <span class="l l-Scalar l-Scalar-Plain">approveOrder</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">com.example.ApproveOrder</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>

   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;functions&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;insertProduct&quot;</span><span class="p">:</span><span class="s2">&quot;com.example.InsertProduct&quot;</span><span class="p">,</span>
      <span class="nt">&quot;approveOrder&quot;</span><span class="p">:</span><span class="s2">&quot;com.example.ApproveOrder&quot;</span>
   <span class="p">}</span>

 <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id6">
<h3><span class="target" id="fragments">fragments</span><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>A map contains declaration of reusable <a class="reference internal" href="#parsing-element">Parsing Element</a>. The fragment definition can be referenced with <a class="reference internal" href="#ref">$ref</a> field while defining <a class="reference internal" href="#parsing-element">Parsing Element</a>.</p>
<p>Example CF document that contains functions</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">fragments</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">product</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
        <span class="l l-Scalar l-Scalar-Plain">price</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">double</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<blockquote>
<div><div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>

   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;fragments&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;product&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;double&quot;</span><span class="p">,</span>
            <span class="nt">&quot;price&quot;</span><span class="p">:</span><span class="s2">&quot;double&quot;</span>
         <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="id7">
<h3><span class="target" id="result">result</span><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p><strong>REQUIRED</strong>. The entry point of <a class="reference internal" href="#parsing-element">Parsing Element</a> declarations. The result field defines structure of the output.</p>
<p>Example CF document that contains result</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<blockquote>
<div><div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">price</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">double</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>

   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>
      <span class="s2">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;double&quot;</span><span class="p">,</span>
         <span class="nt">&quot;price&quot;</span><span class="p">:</span><span class="s2">&quot;double&quot;</span>
       <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id8">
<h3><span class="target" id="extends">$extends</span><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>$extends field is used for import external DSM document to current DSM document. it’s value is basically relative path  or URI definition of  external DSM document.   if it’s value start with “$” sing, it is accepted as an <a class="reference internal" href="#expression">expression</a> and resolved by expression resolver. External DSM document will <a class="reference internal" href="#merged">merged</a> into current DSM document. $extends can also be list of path or URI.  <a class="reference internal" href="#merge">Merge</a> process start from first element to last element. Firstly current DSM document <a class="reference internal" href="#merged">merged</a> with first element then result of <a class="reference internal" href="#merge">merge</a> process extended to second element etc..</p>
<p>Example CF document that contains extends</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">$extends</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/foo/bar/external.yaml</span>
</pre></div>
</div>
<p><strong>or</strong></p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">rootPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/bar/foo/</span>
<span class="l l-Scalar l-Scalar-Plain">$extends</span><span class="p p-Indicator">:</span>
   <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/foo/bar/external.yaml</span>
   <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">$params.rootPath.concat(&quot;externalWithExpression.yaml&quot;)</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;$extends&quot;</span><span class="p">:</span> <span class="s2">&quot;/foo/bar/external.json&quot;</span>
 <span class="p">}</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:{</span>
   <span class="nt">&quot;rootPath&quot;</span><span class="p">:</span><span class="s2">&quot;/bar/foo/&quot;</span>
   <span class="p">},</span>
   <span class="nt">&quot;$extends&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;/foo/bar/external.json&quot;</span><span class="p">,</span><span class="s2">&quot;$params.rootPath.concat(&#39;externalWithExpression.json&#39;)&quot;</span><span class="p">]</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="parsing-element">
<span id="id9"></span><h2><span class="target" id="parsing-element-object">Parsing Element Object</span><a class="headerlink" href="#parsing-element" title="Permalink to this headline">¶</a></h2>
<p>Parsing Element is basic object of DSM. Parsing Element  contains set of rules for parsing specific tag of <a class="reference internal" href="#source-document">Source Document</a></p>
<dl class="docutils">
<dt>Fields:</dt>
<dd><table border="1" class="first last docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Field Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub"><a class="reference internal" href="#fieldname">fieldName</a></th>
<td>string</td>
<td><strong>REQUIRED</strong>  <a class="reference internal" href="#fieldname">fieldName</a> define the name of the property to expose by current object. the fieldName is unique in object.</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#type">type</a></th>
<td>string</td>
<td><strong>REQUIRED</strong>. The data type of exposed field. it may have extra parameter provided with <a class="reference internal" href="#typeparams">typeParams</a></td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#typeparams">typeParams</a></th>
<td>Map[string,any]</td>
<td>extra parameters for type field need to convert. for example. dateFormat for <a class="reference internal" href="#date">date</a> type</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#tagtype">tagType</a></th>
<td>string</td>
<td>the name of the parsing strategy for the current field. the default is STD.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#tagtypeparams">tagTypeParams</a></th>
<td>Map[string,any]</td>
<td>it is used for passing extra parameter to <a class="reference internal" href="#type">type</a> converter. <a class="reference internal" href="#tagtypeparams">tagTypeParams</a> field <a class="reference internal" href="#extended">extended</a> to <a class="reference internal" href="#params">params</a> field.</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#tagpath">tagPath</a></th>
<td>string</td>
<td>The tagPath field specifies the location of a tag in the <a class="reference internal" href="#source-document">source document</a> relative to the tagPath field of the higher-level Parsing Element definition. The default value is the value in the fieldName field.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#tagparentpath">tagParentPath</a></th>
<td>string</td>
<td>The <a class="reference internal" href="#tagparentpath">tagParentPath</a> field is used in a slightly more complex parsing definitions. it holds path to parent tag of the tag specified in the “<a class="reference internal" href="#tagpath">tagPath</a>” field.</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#default">default</a></th>
<td>string,`Default Object`_</td>
<td>default value of the field if <a class="reference internal" href="#tagpath">tagPath</a> not exist in the source document. if default value starts with “$” character it is accepted as <a class="reference internal" href="#expression">expression</a> and it is resolved by expression resolver.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#filter">filter</a></th>
<td>string</td>
<td>The Filter field determines whether the value of a <a class="reference internal" href="#parsing-element-object">Parsing Element Object</a> (complex or simple tagType does not matter) is added to the object tree. The filter field is an <a class="reference internal" href="#expression">expression</a> that returns true or false.</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#transformationcode">transformationCode</a></th>
<td>string</td>
<td>this field refers to the definition of the <a href="#id46"><span class="problematic" id="id47">transformation_</span></a> to be used to transform the tag value.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#function">function</a></th>
<td>string</td>
<td>name of the function in <a class="reference internal" href="#functions">functions</a> map.</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#normalize">normalize</a></th>
<td>string</td>
<td>this field is used to normalize the value of <a href="#id48"><span class="problematic" id="id49">tag_</span></a>. İt is an expression.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#uniquename">uniqueName</a></th>
<td>string</td>
<td>When “fieldName” fields of complex <a class="reference internal" href="#parsing-element">Parsing Element</a> definitions are the same in the DSM document, these definitions are differentiated by using the “uniqueKey” field.</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#xml">xml</a></th>
<td>Map[string,any]</td>
<td>XML related configuration goes under this tag.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#attribute">attribute</a></th>
<td>boolean</td>
<td>it is indicates that the current <a class="reference internal" href="#parsing-element-object">Parsing Element Object</a> is an attribute on the tag pointed to by the tagParentPath field in the xml.</td>
</tr>
<tr class="row-odd"><th class="stub"><a href="#id50"><span class="problematic" id="id51">overwriteByDefault_</span></a></th>
<td>boolean</td>
<td>force using <a class="reference internal" href="#default">default</a> field. Mostly used with filter field.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#fields">fields</a></th>
<td>Map[string,String - Parsing Element Object - [Parsing Element Object] ]</td>
<td>fields  of the current object. its only valid for object and array <a class="reference internal" href="#tagtype">tagType</a></td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#ref">$ref</a></th>
<td>string</td>
<td>$ref_ field is used to <a class="reference internal" href="#id43">extends</a> current config to given <a href="#id52"><span class="problematic" id="id53">fragment_</span></a>. it’s value is an expression.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<div class="section" id="id10">
<h3><span class="target" id="fieldname">fieldName</span><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p><strong>REQUIRED</strong> The <a class="reference internal" href="#fieldname">fieldName</a> define the name of the property to expose by current object. the fieldName is unique in object.. However, a fieldName may have multiple <cite>Parsing Element</cite>. The fieldName is not explicitly defined. it is defined with <a class="reference internal" href="#fields">fields</a> property.  The keys of <a class="reference internal" href="#fields">fields</a> map are the fieldName of the Parsing Element.</p>
<p>In blow DSM document, id, name, and price are <a class="reference internal" href="#fieldname">fieldName</a> of the result object. The <a class="reference internal" href="#result">result</a> object exposes id, name and price property</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>             <span class="c1"># fieldName is result</span>
<span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
     <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>    <span class="c1"># fieldName is id</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">price</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">double</span>
     <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>  <span class="c1"># fieldName is name</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>
      <span class="s2">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;double&quot;</span><span class="p">,</span>
         <span class="nt">&quot;price&quot;</span><span class="p">:</span><span class="s2">&quot;double&quot;</span>
       <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id11">
<h3><span class="target" id="type">type</span><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>The type field defines data type(string, int, boolean etc.) of the exposed property. it is basicity a converter from string to given data type.
it may need extra parameters to convert a string to given data type. Extra parameters may be provided with <a class="reference internal" href="#params">params</a> or <a class="reference internal" href="#typeparams">typeParams</a>.</p>
<p>Supported type name and their corresponding java class:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Type Name</th>
<th class="head">Java Type</th>
<th class="head">Extra Parameters</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">int</th>
<td>int</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">float</th>
<td>float</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><th class="stub">short</th>
<td>short</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">double</th>
<td>double</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><th class="stub">long</th>
<td>long</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub"><span class="target" id="date">date</span></th>
<td>date</td>
<td>dateFormat(required)</td>
</tr>
<tr class="row-even"><th class="stub">boolean</th>
<td>boolean</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">char</th>
<td>char</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><th class="stub">BigDecimal</th>
<td>BigDecimal</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">BigInteger</th>
<td>BigInteger</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<div class="content-tabs docutils container" id="typeparamsexample">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">dateFormat</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dd.MM.yyyy</span>  <span class="c1"># default &#39;dateFormat&#39; for all &#39;date&#39; type</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>       <span class="c1"># implicitly defined type. type is string</span>
     <span class="l l-Scalar l-Scalar-Plain">price</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">double</span>    <span class="c1"># explicitly defined the type. type is double</span>
     <span class="l l-Scalar l-Scalar-Plain">createDate</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">date</span>   <span class="c1"># implicitly defined the date type. and &#39;dateFormat&#39; is defined in params field.</span>
     <span class="l l-Scalar l-Scalar-Plain">modifiedTime</span><span class="p p-Indicator">:</span>
       <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">date</span>       <span class="c1"># explicitly defined the date type. and &#39;dateFormat&#39; is defined in typeParams field.</span>
       <span class="l l-Scalar l-Scalar-Plain">typeParams</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">dateFormat</span><span class="p p-Indicator">:</span> <span class="s">&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;dateFormat&quot;</span><span class="p">:</span> <span class="s2">&quot;dd.MM.yyyy&quot;</span>
   <span class="p">},</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span><span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;double&quot;</span><span class="p">,</span>
         <span class="nt">&quot;price&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;double&quot;</span>
         <span class="p">},</span>
         <span class="nt">&quot;createDate&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span>
         <span class="nt">&quot;modifiedTime&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span>
            <span class="nt">&quot;typeParams&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;dateFormat&quot;</span><span class="p">:</span><span class="s2">&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;</span>
            <span class="p">}</span>
         <span class="p">}</span>
       <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id12">
<h3><span class="target" id="typeparams">typeParams</span><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>typeParams is used for passing extra parameters to a <a class="reference internal" href="#type">type</a> converter. typeParams field <a class="reference internal" href="#extended">extended</a> to <a class="reference internal" href="#params">params</a> field.</p>
<p>Check <a class="reference internal" href="#typeparamsexample">example</a> here.</p>
</div>
<div class="section" id="id13">
<h3><span class="target" id="tagtype">tagType</span><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>tagType defines how tags in the source document are parsed. it also defines the structure of the output object and hierarchy of the object tree. it may need extra parameters. Extra parameters are provided with <a class="reference internal" href="#tagtypeparams">tagTypeParams</a> field that <a class="reference internal" href="#extended">extended</a> to <a class="reference internal" href="#params">params</a> field.
Basically, there are two main “tagType” categories which are “complex”, and “simple”. The complex category includes “tagTypes” which exposes complex data type such as object or arrays. the simple category includes tagTypes which expose data type in the <a class="reference internal" href="#type">type</a> field.</p>
<p>Supported tagType’s:</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Type Name</th>
<th class="head">Category</th>
<th class="head">Java Type</th>
<th class="head">Extra Parameters</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub"><a class="reference internal" href="#std">std</a></th>
<td>Simple</td>
<td><a class="reference internal" href="#type">type</a></td>
<td>default tagType if not defined explicitly</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#object">object</a></th>
<td>Complex</td>
<td>Map</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#array">array</a></th>
<td>Complex</td>
<td>List&lt;Map&gt; - List&lt;<a class="reference internal" href="#type">type</a>&gt;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#sum">sum</a></th>
<td>Simple</td>
<td><a class="reference internal" href="#type">type</a></td>
<td>fields: array of fieldName of current object.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#multiply">multiply</a></th>
<td>Simple</td>
<td><a class="reference internal" href="#type">type</a></td>
<td><strong>fields</strong>: array of fieldName of current object.</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#divide">divide</a></th>
<td>Simple</td>
<td><a class="reference internal" href="#type">type</a></td>
<td><strong>fields</strong>: array of fieldName of current object.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#join">join</a></th>
<td>Simple</td>
<td><a class="reference internal" href="#type">type</a></td>
<td><strong>fields</strong>: array of fieldName of current object, <strong>separator</strong>: separator string. default is comma(,)</td>
</tr>
</tbody>
</table>
<div class="section" id="id14">
<h4><span class="target" id="std">std</span><a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<hr class="docutils" />
<p>std is basic <a class="reference internal" href="#tagtype">tagType</a> which copy the value of the tag in the source document to the current object. std is the default value of the <a class="reference internal" href="#tagtype">tagType</a> field.  Data <a class="reference internal" href="#type">type</a> is defined in the <a class="reference internal" href="#type">type</a> field.</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">foo</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>   <span class="c1"># tag type is STD</span>
     <span class="l l-Scalar l-Scalar-Plain">bar</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">int</span>      <span class="c1"># tag type is STD</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>  <span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;bar&quot;</span><span class="p">:</span><span class="s2">&quot;int&quot;</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id15">
<h4><span class="target" id="object">object</span><a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<hr class="docutils" />
<p>object <a class="reference internal" href="#tagtype">tagType</a> is used to expose an object. <a class="reference internal" href="#parsing-element">Parsing Element</a> which has “object” <a class="reference internal" href="#tagtype">tagType</a> must have ‘<a class="reference internal" href="#fields">fields</a>’ field.</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">price</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">double</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>  <span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;price&quot;</span><span class="p">:</span><span class="s2">&quot;double&quot;</span>
       <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Above DSM document generate following output(values are only example) :</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;11111&quot;</span><span class="p">,</span>
   <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>
   <span class="nt">&quot;price&quot;</span><span class="p">:</span><span class="mf">1111.111</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id16">
<h4><span class="target" id="array">array</span><a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<hr class="docutils" />
<p>array tagType is used to expose an array. Items of the array may be a object or simple <a class="reference internal" href="#type">type</a>. if <a class="reference internal" href="#parsing-element">Parsing Element</a>  has “<a class="reference internal" href="#fields">fields</a>” field then the array <a class="reference internal" href="#tagtype">tagType</a> exposes List&lt;Object&gt;.  if <a class="reference internal" href="#fields">fields</a> field is not defined, the data type of array item decided by <a class="reference internal" href="#type">type</a> field.</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>  <span class="c1"># EXPOSE [Object] array of Object</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">price</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">double</span>
     <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span>                 <span class="c1"># EXPOSE [string] array of string</span>
       <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
       <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tag</span>
       <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span><span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;price&quot;</span><span class="p">:</span><span class="s2">&quot;double&quot;</span><span class="p">,</span>
         <span class="nt">&quot;tags&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;tag&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
         <span class="p">}</span>
       <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Above DSM document generate following output(values are only example) :</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">[{</span>
   <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;11111&quot;</span><span class="p">,</span>
   <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>
   <span class="nt">&quot;price&quot;</span><span class="p">:</span><span class="mf">1111.111</span><span class="p">,</span>
   <span class="nt">&quot;tags&quot;</span><span class="p">:[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span><span class="s2">&quot;bar&quot;</span><span class="p">]</span>
<span class="p">}]</span>
</pre></div>
</div>
</div>
<div class="section" id="id17">
<h4><span class="target" id="sum">sum</span><a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<hr class="docutils" />
<p><em>sum</em> tagType is used to sum  properties defined with “fields” in <strong>tagTypeParams_</strong>. if one of the properties that defined in <em>fields</em> does not exist in the current object,   it is accepted as ZERO.</p>
<p>if current property(<a class="reference internal" href="#parsing-element">Parsing Element</a> that “<em>sum</em>” <a class="reference internal" href="#tagtype">tagType</a> is defined on) is defined in “fields” in <strong>tagTypeParams_</strong>,   current property value is added to total result.(sum with self)</p>
<p><strong>(Explained with example below)</strong></p>
<p><strong>tagTypeParams</strong>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">fields</th>
<td>array</td>
<td><strong>REQUIRED</strong> list of <a class="reference internal" href="#fieldname">fieldName</a> of the properties in parent <a class="reference internal" href="#parsing-element">Parsing Element</a> to sum.</td>
</tr>
</tbody>
</table>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">foo</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">int</span>
     <span class="l l-Scalar l-Scalar-Plain">bar</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
     <span class="l l-Scalar l-Scalar-Plain">fooAndBar</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">\.</span>  <span class="c1"># when current object closed</span>
         <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">sum</span>    <span class="c1"># declare sum tagType to sum foo and bar field</span>
         <span class="l l-Scalar l-Scalar-Plain">type:int</span>
         <span class="l l-Scalar l-Scalar-Plain">tagTypeParams</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">fields:[foo,bar]</span>  <span class="c1"># sum foo,and bar fields then set to fooAndBar property of current object.</span>
     <span class="l l-Scalar l-Scalar-Plain">sumWithSelf</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">sum</span>    <span class="c1"># declare sum tagType to sum foo and bar field</span>
         <span class="l l-Scalar l-Scalar-Plain">type:int</span>
         <span class="l l-Scalar l-Scalar-Plain">tagTypeParams</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">fields:[foo,bar,sumWithSelf]</span>  <span class="c1"># sum foo, bar and sumWithSelf(current field) fields then set sumWithSelf to total property of current object.</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>  <span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="s2">&quot;int&quot;</span><span class="p">,</span>
         <span class="nt">&quot;bar&quot;</span><span class="p">:</span><span class="s2">&quot;int&quot;</span><span class="p">,</span>
         <span class="nt">&quot;fooAndBar&quot;</span><span class="p">:{</span>
             <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;\.&quot;</span><span class="p">,</span>
             <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span>
             <span class="nt">&quot;tagTypeParams&quot;</span><span class="p">:{</span>
                  <span class="nt">&quot;fields&quot;</span><span class="p">:[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span><span class="s2">&quot;bar&quot;</span><span class="p">]</span>
             <span class="p">}</span>
         <span class="p">},</span>
         <span class="nt">&quot;sumWithSelf&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;sum&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;int&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tagTypeParams&quot;</span><span class="p">:{</span>
               <span class="nt">&quot;fields&quot;</span><span class="p">:[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span><span class="s2">&quot;sumWithSelf&quot;</span><span class="p">]</span>
            <span class="p">}</span>
         <span class="p">}</span>
       <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id18">
<h4><span class="target" id="multiply">multiply</span><a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<hr class="docutils" />
<p><em>multiply</em> tagType is used to multiply  properties defined with “fields” in <strong>tagTypeParams_</strong>. if one of the properties that defined in <em>fields</em> does not exist in the current object,   it is accepted as ONE.</p>
<p>if current property(<a class="reference internal" href="#parsing-element">Parsing Element</a> that “<em>multiply</em>” <a class="reference internal" href="#tagtype">tagType</a> is defined on) is defined in “fields” in <strong>tagTypeParams_</strong>,   current property value is multiplied with total result. (multiply with self)</p>
<p><strong>(Explained with example below)</strong></p>
<p><a class="reference internal" href="#tagtypeparams">tagTypeParams</a>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">fields</th>
<td>array</td>
<td><strong>REQUIRED</strong> list of field name of the properties in <strong>current object</strong> to multiply.</td>
</tr>
</tbody>
</table>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">foo</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">int</span>
     <span class="l l-Scalar l-Scalar-Plain">bar</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">int</span>
     <span class="l l-Scalar l-Scalar-Plain">fooAndBar</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">\.</span>  <span class="c1"># when current object closed</span>
         <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">multiply</span>    <span class="c1"># declare multiply tagType to sum foo and bar field</span>
         <span class="l l-Scalar l-Scalar-Plain">type:int</span>
         <span class="l l-Scalar l-Scalar-Plain">tagTypeParams</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">fields:[foo,bar]</span>  <span class="c1"># multiply foo,and bar fields then set it to fooAndBar property of current object.</span>
     <span class="l l-Scalar l-Scalar-Plain">multiplyWithSelf</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">multiply</span>    <span class="c1"># declare multiply tagType to sum foo and bar field</span>
         <span class="l l-Scalar l-Scalar-Plain">type:int</span>
         <span class="l l-Scalar l-Scalar-Plain">tagTypeParams</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">fields:[foo,bar,multiplyWithSelf]</span>  <span class="c1"># multiply foo, bar and multiplyWithSelf(current field) fields then set it to multiplyWithSelf property of current object.</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>  <span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="s2">&quot;int&quot;</span><span class="p">,</span>
         <span class="nt">&quot;bar&quot;</span><span class="p">:</span><span class="s2">&quot;int&quot;</span><span class="p">,</span>
         <span class="nt">&quot;fooAndBar&quot;</span><span class="p">:{</span>
             <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;\.&quot;</span><span class="p">,</span>
             <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;multiply&quot;</span><span class="p">,</span>
             <span class="nt">&quot;tagTypeParams&quot;</span><span class="p">:{</span>
                  <span class="nt">&quot;fields&quot;</span><span class="p">:[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span><span class="s2">&quot;bar&quot;</span><span class="p">]</span>
             <span class="p">}</span>
         <span class="p">},</span>
         <span class="nt">&quot;multiplyWithSelf&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;multiply&quot;</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;int&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tagTypeParams&quot;</span><span class="p">:{</span>
               <span class="nt">&quot;fields&quot;</span><span class="p">:[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span><span class="s2">&quot;multiplyWithSelf&quot;</span><span class="p">]</span>
            <span class="p">}</span>
         <span class="p">}</span>
       <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id19">
<h4><span class="target" id="divide">divide</span><a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h4>
<hr class="docutils" />
<p><em>divide</em> tagType is used to divide  properties defined with “fields” in <strong>tagTypeParams_</strong>. if one of the properties that defined in <em>fields</em> does not exist in the current object,   it is accepted as ONE.</p>
<p>if current property(<a class="reference internal" href="#parsing-element">Parsing Element</a> that “<em>divide</em>” <a class="reference internal" href="#tagtype">tagType</a> is defined on) is defined in “fields” in <strong>tagTypeParams_</strong>,   current property value is divided with total result. (divide with self)</p>
<p><strong>(Explained with example below)</strong></p>
<p><a class="reference internal" href="#tagtypeparams">tagTypeParams</a>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">fields</th>
<td>array</td>
<td><strong>REQUIRED</strong> list of field name of the properties in <strong>current object</strong> to divide.</td>
</tr>
</tbody>
</table>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">foo</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">int</span>
     <span class="l l-Scalar l-Scalar-Plain">bar</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">int</span>
     <span class="l l-Scalar l-Scalar-Plain">fooAndBar</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">\.</span>  <span class="c1"># when current object closed</span>
         <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">divide</span>    <span class="c1"># declare divide tagType to sum foo and bar field</span>
         <span class="l l-Scalar l-Scalar-Plain">type:int</span>
         <span class="l l-Scalar l-Scalar-Plain">tagTypeParams</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">fields:[foo,bar]</span>  <span class="c1"># divide foo with bar (foo/bar) fields then set it to fooAndBar property of current object.</span>
     <span class="l l-Scalar l-Scalar-Plain">divideWithSelf</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">divide</span>    <span class="c1"># declare divide tagType to sum foo and bar field</span>
         <span class="l l-Scalar l-Scalar-Plain">type:int</span>
         <span class="l l-Scalar l-Scalar-Plain">tagTypeParams</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">fields:[foo,bar,divideWithSelf]</span>  <span class="c1"># divide foo with bar then divide with divideWithSelf(current field) (foo/bar/divideWithSelf) fields then set it to sumWithSelf property of current object.</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>  <span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="s2">&quot;int&quot;</span><span class="p">,</span>
         <span class="nt">&quot;bar&quot;</span><span class="p">:</span><span class="s2">&quot;int&quot;</span><span class="p">,</span>
         <span class="nt">&quot;fooAndBar&quot;</span><span class="p">:{</span>
             <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;\.&quot;</span><span class="p">,</span>
             <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;divide&quot;</span><span class="p">,</span>
             <span class="nt">&quot;tagTypeParams&quot;</span><span class="p">:{</span>
                  <span class="nt">&quot;fields&quot;</span><span class="p">:[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span><span class="s2">&quot;bar&quot;</span><span class="p">]</span>
             <span class="p">}</span>
         <span class="p">},</span>
         <span class="nt">&quot;divideWithSelf&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;divide&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;int&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tagTypeParams&quot;</span><span class="p">:{</span>
               <span class="nt">&quot;fields&quot;</span><span class="p">:[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span><span class="s2">&quot;divideWithSelf&quot;</span><span class="p">]</span>
            <span class="p">}</span>
         <span class="p">}</span>
       <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id20">
<h4><span class="target" id="join">join</span><a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h4>
<hr class="docutils" />
<p><em>join</em> tagType is used to join properties defined with “fields” in <strong>tagTypeParams_</strong>. if one of the properties that defined in <em>fields</em> does not exist in the current object, it is skipped.</p>
<p>if current property(<a class="reference internal" href="#parsing-element">Parsing Element</a> that “<em>join</em>” <a class="reference internal" href="#tagtype">tagType</a> is defined on) is defined in
“fields” in <strong>tagTypeParams_</strong>, current property value is included in to joining  (join with self)
Values are  separated by <em>separator</em> defined in  “<a class="reference internal" href="#tagtypeparams">tagTypeParams</a>”. The default separator  is a comma(,)</p>
<p><a class="reference internal" href="#tagtypeparams">tagTypeParams</a>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">fields</th>
<td>array</td>
<td><strong>REQUIRED</strong> list of field name of the properties in <strong>current object</strong> to join.</td>
</tr>
<tr class="row-odd"><th class="stub">separator</th>
<td>string</td>
<td>separator string. default is comma(i)</td>
</tr>
</tbody>
</table>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span>version: 1.0
result:
  tagType: object
  tagPath: /
  fields:
     foo: string
     bar: string
     fooAndBar:
         tagPath: \.  # when current object closed
         tagType: join    # declare join tagType to sum foo and bar field
         type:int
         tagTypeParams:
            fields:[foo,bar]  # join foo and bar (foo,bar) fields then set it to fooAndBar property of current object.
     joinWithSelf:
         tagType: join    # declare join tagType to sum foo and bar field
         type:int
         tagTypeParams:
            separator: &amp;
            fields:[foo,bar,sumWithSelf]  # join foo,bar, and joinWithSelf(current field) (foo&amp;bar&amp;joinWithSelf) fields then set it to joinWithSelf property of current object.
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>  <span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;bar&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;fooAndBar&quot;</span><span class="p">:{</span>
             <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;\.&quot;</span><span class="p">,</span>
             <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;join&quot;</span><span class="p">,</span>
             <span class="nt">&quot;tagTypeParams&quot;</span><span class="p">:{</span>
                  <span class="nt">&quot;fields&quot;</span><span class="p">:[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span><span class="s2">&quot;bar&quot;</span><span class="p">]</span>
             <span class="p">}</span>
         <span class="p">},</span>
         <span class="nt">&quot;joinWithSelf&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;join&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;int&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tagTypeParams&quot;</span><span class="p">:{</span>
               <span class="nt">&quot;separator&quot;</span><span class="p">:</span> <span class="s2">&quot;&amp;&quot;</span><span class="p">,</span>
               <span class="nt">&quot;fields&quot;</span><span class="p">:[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span><span class="s2">&quot;joinWithSelf&quot;</span><span class="p">]</span>
            <span class="p">}</span>
         <span class="p">}</span>
       <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id21">
<h3><span class="target" id="tagtypeparams">tagTypeParams</span><a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>tagTypeParams is used for passing extra parameters to <a class="reference internal" href="#tagtype">tagType</a> field. The tagTypeParams field is  <a class="reference internal" href="#extended">extended</a> to <a class="reference internal" href="#params">params</a> field.</p>
<p>Examples:</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">foo</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">bar</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">fooAndBar</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">\.</span>  <span class="c1"># when current object closed</span>
         <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">join</span>    <span class="c1"># declare join tagType to concat foo and bar field</span>
         <span class="l l-Scalar l-Scalar-Plain">type:int</span>
         <span class="l l-Scalar l-Scalar-Plain">tagTypeParams</span><span class="p p-Indicator">:</span>       <span class="c1"># tagTypeParams is used to pass fields parameter to tagType</span>
            <span class="l l-Scalar l-Scalar-Plain">fields:[foo,bar]</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>  <span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;bar&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;fooAndBar&quot;</span><span class="p">:{</span>
             <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;\.&quot;</span><span class="p">,</span>
             <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;join&quot;</span><span class="p">,</span>
             <span class="nt">&quot;tagTypeParams&quot;</span><span class="p">:{</span>
                  <span class="nt">&quot;fields&quot;</span><span class="p">:[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span><span class="s2">&quot;bar&quot;</span><span class="p">]</span>
             <span class="p">}</span>
         <span class="p">}</span>
       <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="tagpath-and-tagparentpath">
<h3><span class="target" id="tagpath">tagPath</span> and <span class="target" id="tagparentpath">tagParentPath</span><a class="headerlink" href="#tagpath-and-tagparentpath" title="Permalink to this headline">¶</a></h3>
<p>The tagPath and tagParentPath fields indicate which tags are used in the <a class="reference internal" href="#source-document">source document</a>
during parsing. The value of those fields are regular expressions.</p>
<p>The <strong>tagPath</strong> field specifies the location of a tag in the <a class="reference internal" href="#source-document">source document</a>
relative to the tagPath field of the higher-level <a class="reference internal" href="#parsing-element">Parsing Element</a> definition.
The default value is the value in the <a class="reference internal" href="#fieldname">fieldName</a> field.</p>
<p>The <strong>tagParentPath</strong> field is used in a slightly more complex parsing definitions.
it holds path to parent tag of the tag specified in the “tagPath” field.</p>
<p>The <a class="reference internal" href="#tagpath">tagPath</a> and <a class="reference internal" href="#tagparentpath">tagParentPath</a> fields can be defined as the relative path as in unix.
Relative paths are resolved according to the structure in the DSM document,
not by the structure in the source file.</p>
<p>Some example of relative path:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">current:</th><td class="field-body">./</td>
</tr>
<tr class="field-even field"><th class="field-name">parent:</th><td class="field-body">../</td>
</tr>
<tr class="field-odd field"><th class="field-name">parentOfParent:</th><td class="field-body">../../</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">categoryInParent:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">../category</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">categoryInCurrent:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">./category</td>
</tr>
</tbody>
</table>
<p>To find the exact tag path for the current <a class="reference internal" href="#parsing-element">Parsing Element</a>, starting from the result field,
all the <em>tagParentPath</em> and <em>tagPath</em> fields from top to bottom are merged with the “/” character.</p>
<p><strong>tagParentAbsolutePath</strong> and <strong>tagAbsolutePath</strong>  evaluated as follow:</p>
<blockquote>
<div><p><strong>currentObject</strong> mean is <a class="reference internal" href="#parsing-element">Parsing Element</a> that current tagPath and tagParentPath is defined
<strong>parentObject</strong> mean is parent <a class="reference internal" href="#parsing-element">Parsing Element</a> of currentObject</p>
<ul class="simple">
<li>parentObject = if (<strong>tagParentPath+tagPath</strong>) is relative path then find  parentObject by resolving relative path else currentObject.parent</li>
<li><strong>tagParentAbsolutePath</strong> = parentObject.tagPath+”/”+currentObject.tagParentPath</li>
<li><strong>tagAbsolutePath</strong> = absoluteTagParentPath+”/”+currentObject.tagPath</li>
</ul>
</div></blockquote>
<p>if <strong>tagAbsolutePath</strong>  regex match any  <a class="reference internal" href="#absolute">absolute</a> path of tag, value of this tag evaluated by <a class="reference internal" href="#tagtype">tagType</a></p>
<p>To explain with example:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/orders/order</span>                              <span class="c1">#tagPath = orders/order</span>
                                                       <span class="c1">#tagParentPath = &quot;&quot;</span>
                                                       <span class="c1">#tagAbsolutePath= /orders/order</span>
                                                       <span class="c1">#tagParentAbsolutePath= /</span>
   <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">defaultName</span><span class="p p-Indicator">:</span>                                     <span class="c1">#tagPath =defaultName (default value is fieldName)</span>
                                                       <span class="c1">#tagParentPath = &quot;&quot;</span>
                                                       <span class="c1">#tagParentAbsolutePath =/orders/order (parent(result) absoluteTagPath))</span>
                                                       <span class="c1">#tagAbsolutePath =/orders/order/defaultName</span>
      <span class="l l-Scalar l-Scalar-Plain">tagPathDefined</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">status</span>                               <span class="c1">#tagPath =status</span>
                                                       <span class="c1">#tagParentPath = &quot;&quot;</span>
                                                       <span class="c1">#tagParentAbsolutePath =/orders/order (parent(result) absoluteTagPath))</span>
                                                       <span class="c1">#tagAbsolutePath =/orders/order/status</span>
      <span class="l l-Scalar l-Scalar-Plain">tagPathAndTagParentPath</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">name</span>                              <span class="c1">#tagPath = name</span>
            <span class="l l-Scalar l-Scalar-Plain">tagParentPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">category</span>                    <span class="c1">#tagParentPath  = category</span>
                                                       <span class="c1">#tagParentAbsolutePath =/orders/order/category</span>
                                                       <span class="c1">#tagAbsolutePath =/orders/order/category/name</span>

      <span class="l l-Scalar l-Scalar-Plain">innerObject</span><span class="p p-Indicator">:</span>
           <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
           <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">foo</span>                                <span class="c1">#tagPath = &quot;innerObject&quot;</span>
                                                       <span class="c1">#tagParentPath = &quot;&quot;</span>
                                                       <span class="c1">#tagParentAbsolutePath =/orders/order</span>
                                                       <span class="c1">#tagAbsolutePath =/orders/order/innerObject</span>
           <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
              <span class="l l-Scalar l-Scalar-Plain">normalPathInInnerObject</span><span class="p p-Indicator">:</span>                 <span class="c1">#tagPath = &quot;normalPathInInnerObject&quot;</span>
                                                       <span class="c1">#tagParentPath = &quot;&quot;</span>
                                                       <span class="c1">#tagParentAbsolutePath =/orders/order/innerObject</span>
                                                       <span class="c1">#tagAbsolutePath =/orders/order/innerObjcet/normalPathInInnerObject</span>
              <span class="l l-Scalar l-Scalar-Plain">relativeTagPath</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">tagPath:./defaultName</span>              <span class="c1">#tagPath = ../defaultName    (only level up)</span>
                                                       <span class="c1">#tagParentPath = &quot;&quot;</span>
                                                       <span class="c1">#tagParentAbsolutePath =/orders/order</span>
                                                       <span class="c1">#tagAbsolutePath =/orders/order/defaultName</span>
              <span class="l l-Scalar l-Scalar-Plain">relativeTagParentPath</span><span class="p p-Indicator">:</span>
                    <span class="l l-Scalar l-Scalar-Plain">tagPath:defaultName</span>                <span class="c1">#tagPath = defaultName</span>
                    <span class="l l-Scalar l-Scalar-Plain">tagParentPath:../</span>                  <span class="c1">#tagParentPath = &quot;../&quot; (only level up)</span>
                                                       <span class="c1">#tagParentAbsolutePath =/orders/order</span>
                                                       <span class="c1">#tagAbsolutePath =/orders/order/defaultName                                          relativeTagPathAndTagParentPath:</span>
                    <span class="l l-Scalar l-Scalar-Plain">tagPath:../defaultName</span>             <span class="c1">#tagPath = defaultName</span>
                    <span class="l l-Scalar l-Scalar-Plain">tagParentPath:../</span>                  <span class="c1">#tagParentPath = &quot;../&quot; (only level up)</span>
                                                       <span class="c1">#tagParentAbsolutePath =/orders/order</span>
                                                       <span class="c1">#tagAbsolutePath =/orders/order/../defaultName (relative path of tagParentPath important. tagPath considered as regex)</span>

              <span class="l l-Scalar l-Scalar-Plain">relativePathFromResult</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">tagPath:/orders/order/defaultName</span>      <span class="c1">#tagPath = /orders/order/defaultName</span>
                                                       <span class="c1">#tagParentPath = &quot;&quot;</span>
                                                       <span class="c1">#tagParentAbsolutePath =/orders/order/defaultName</span>
                                                       <span class="c1">#tagAbsolutePath =/orders/order</span>
</pre></div>
</div>
<p><strong>tagAbsolutePath and tagParentAbsolutePath</strong>:</p>
<table border="1" class="docutils align-left">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">fieldName</th>
<th class="head">tagPath</th>
<th class="head">tagParentPath</th>
<th class="head">tagAbsolutePath</th>
<th class="head">tagParentAbsolutePath</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">result</th>
<td>orders/order</td>
<td>&#160;</td>
<td>order/simpleOrder</td>
<td>/</td>
</tr>
<tr class="row-odd"><th class="stub">result</th>
<td>orders/order</td>
<td>&#160;</td>
<td>order/simpleOrder</td>
<td>/</td>
</tr>
<tr class="row-even"><th class="stub">defaultName</th>
<td>defaultName(default value is fieldName)</td>
<td>order/simpleOrder/defaultName</td>
<td>order/simpleOrder</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">tagPathDefined</th>
<td>status</td>
<td>order/simpleOrder/status</td>
<td>order/simpleOrder</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><th class="stub">tagPathAndTagParentPath</th>
<td>status</td>
<td>order/simpleOrder/category/name</td>
<td>order/simpleOrder/category</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">innerObject</th>
<td>innerObject</td>
<td>order/simpleOrder/innerObject</td>
<td>order/simpleOrder</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><th class="stub">normalPathInInnerObject</th>
<td>normalPathInInnerObject</td>
<td>order/simpleOrder/innerObject/normalPathInInnerObject</td>
<td>order/simpleOrder/innerObject</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">relativeTagPath</th>
<td>defaultName</td>
<td>order/simpleOrder/defaultName</td>
<td>order/simpleOrder</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><th class="stub">relativeTagParentPath</th>
<td>defaultName</td>
<td>order/simpleOrder/defaultName</td>
<td>order/simpleOrder</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">relativeTagPathAndTagParentPath</th>
<td>defaultName</td>
<td>order/simpleOrder/..defaultName (relative path of tagParentPath important. tagPath considered as regex)</td>
<td>order/simpleOrder</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><th class="stub">relativePathFromResult</th>
<td>/orders/order/defaultName</td>
<td>order/simpleOrder/defaultName</td>
<td>order/simpleOrder</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="fields">
<span id="id22"></span><h3>fields<a class="headerlink" href="#fields" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>The fields field is used to define the properties of complex objects. Only <a class="reference internal" href="#parsing-element">Parsing Element</a> that has complex <a class="reference internal" href="#tagtype">tagType</a>  can have the “fields” field.</p>
<p>The fields field is  a map that keys are fieldName of  <a class="reference internal" href="#parsing-element">Parsing Element</a> , values are string, <a class="reference internal" href="#parsing-element">Parsing Element</a> or list of <a class="reference internal" href="#parsing-element">Parsing Element</a></p>
<div class="section" id="type-of-value-definition">
<h4>Type of Value Definition<a class="headerlink" href="#type-of-value-definition" title="Permalink to this headline">¶</a></h4>
<p>The value of the map can be empty, string, <a class="reference internal" href="#parsing-element">Parsing Element</a> or array of <a class="reference internal" href="#parsing-element">Parsing Element</a>.</p>
<p>Different value definitions create <a class="reference internal" href="#parsing-element">Parsing Element</a> with some default values.</p>
<p>Below explain type of value definition and the default values of the <a class="reference internal" href="#parsing-element">Parsing Element</a> that it creates.</p>
<dl class="docutils">
<dt>empty:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name"><a class="reference internal" href="#fieldname">fieldName</a>:</th><td class="field-body">key of the map.</td>
</tr>
<tr class="field-even field"><th class="field-name"><a class="reference internal" href="#type">type</a>:</th><td class="field-body">string</td>
</tr>
<tr class="field-odd field"><th class="field-name"><a class="reference internal" href="#tagpath">tagPath</a>:</th><td class="field-body">key of the map (fieldName)</td>
</tr>
<tr class="field-even field"><th class="field-name"><a class="reference internal" href="#tagparentpath">tagParentPath</a>:</th><td class="field-body">null</td>
</tr>
</tbody>
</table>
</dd>
<dt>string:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name"><a class="reference internal" href="#fieldname">fieldName</a>:</th><td class="field-body">key of the map.</td>
</tr>
<tr class="field-even field"><th class="field-name"><a class="reference internal" href="#type">type</a>:</th><td class="field-body">value of the map</td>
</tr>
<tr class="field-odd field"><th class="field-name"><a class="reference internal" href="#tagpath">tagPath</a>:</th><td class="field-body">key of the map (fieldName)</td>
</tr>
<tr class="field-even field"><th class="field-name"><a class="reference internal" href="#tagparentpath">tagParentPath</a>:</th><td class="field-body">null</td>
</tr>
</tbody>
</table>
</dd>
<dt><a class="reference internal" href="#parsing-element">Parsing Element</a>:</dt>
<dd><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name"><a class="reference internal" href="#fieldname">fieldName</a>:</th><td class="field-body">key of the map.</td>
</tr>
</tbody>
</table>
<p class="last">other fields are can be defined or initialized with default values.</p>
</dd>
<dt>Array of <a class="reference internal" href="#parsing-element">Parsing Element</a>:</dt>
<dd>some fields of objects can be read from the different tag in the source document.  By making multiple definitions for one field, the value of different tags can be read.</dd>
</dl>
<p>Example of different type of value definition:</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span>     <span class="c1"># fieldName is &quot;name&quot; and type is  string and the tagPath is &quot;/name&quot;</span>
     <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">price</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">long</span>      <span class="c1"># fieldName is &quot;price&quot; and type is  &quot;long&quot;  and the tagPath is &quot;/price&quot;</span>
     <span class="l l-Scalar l-Scalar-Plain">categoryType</span><span class="p p-Indicator">:</span>   <span class="c1"># fieldName is &quot;categoryType&quot; and it is  &quot;string&quot; value and the tagPath is &quot;/categoryType&quot; it has extra definition (default)</span>
            <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&quot;foo&quot;</span>   <span class="c1"># default value a is a string.</span>
     <span class="l l-Scalar l-Scalar-Plain">productUnit</span><span class="p p-Indicator">:</span>  <span class="c1"># this field contains two definition. one  of that  will win depending on the structure of source document.</span>
           <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">unit/unit_name</span>      <span class="c1"># fieldName is &quot;productUnit&quot; and type is  &quot;long&quot;  and the tagPath is &quot;/unit/unit_name&quot;</span>
             <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$ self.data.categoryType==&#39;foo&#39;? &#39;LT&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;KG&#39;</span>

           <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mainUnit/unit_name</span>  <span class="c1"># fieldName is &quot;productUnit&quot; and type is  &quot;long&quot;  and the tagPath is &quot;/mainUnit/unit_name&quot;</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>  <span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
         <span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
         <span class="nt">&quot;price&quot;</span><span class="p">:</span><span class="s2">&quot;long&quot;</span><span class="p">,</span>
         <span class="nt">&quot;categoryType&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span>
         <span class="p">},</span>
         <span class="nt">&quot;productUnit&quot;</span><span class="p">:[</span>
         <span class="p">{</span>  <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;unit/unit_name&quot;</span><span class="p">,</span>
            <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot; $self.data.categoryType==&#39;foo&#39;? &#39;LT&#39;: &#39;KG&#39;&quot;</span>
         <span class="p">},</span>
         <span class="p">{</span>
            <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;mainUnit/unit_name&quot;</span><span class="p">,</span>
         <span class="p">},</span>
         <span class="p">],</span>
       <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id23">
<h3><span class="target" id="filter">filter</span><a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<p>The filter field determines whether the value of a <a class="reference internal" href="#parsing-element">Parsing Element</a>
(complex or simple tagType does not matter) is added to the object tree.
The filter field is an <a class="reference internal" href="#expression">expression</a> that returns true or false.</p>
<p>The following objects are available in Expression Context.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#expression">expression</a></p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub"><a class="reference internal" href="#params">params</a></th>
<td>Map&lt;string,any&gt;</td>
<td><a class="reference internal" href="#params">params</a> object.</td>
<td><strong>params.dateFormat</strong> ==’dd.MM.yyyy’</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#self">self</a></th>
<td><a href="#id54"><span class="problematic" id="id55">Node_</span></a></td>
<td>current node object that hold data of current complex <a class="reference internal" href="#tagtype">tagType</a></td>
<td><strong>self.data.foo</strong> =&gt; foo field of current node,  <strong>self.parent.data.foo</strong> =&gt; foo field of parent node, <strong>self.data.bar.foo</strong> =&gt; foo field of bar object in current node.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#all">all</a></th>
<td>Map&lt;string,Node_&gt;</td>
<td>A map that stores all nodes by the “<a class="reference internal" href="#uniquename">uniqueName</a>” of <a class="reference internal" href="#parsing-element">Parsing Element</a></td>
<td><strong>all.bar.data.foo</strong> =&gt; foo field of <strong>bar</strong> node,  <strong>all.barList.data[0].foo</strong> =&gt; <em>foo</em> field of first item of <em>barList</em> node</td>
</tr>
<tr class="row-odd"><th class="stub">value</th>
<td>string</td>
<td>value of the current tag in <a class="reference internal" href="#source-document">source document</a></td>
<td><strong>value==’Computer’</strong>,**value.startWith(‘bar’)**</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong>:</p>
<p><strong>Example 1</strong></p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span>
    <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
    <span class="l l-Scalar l-Scalar-Plain">tagPath:/</span>
    <span class="l l-Scalar l-Scalar-Plain">filter</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$self.data.category==&#39;Computer&#39;</span>  <span class="c1"># collect all data that category field is &#39;Computer&#39;</span>
    <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>  <span class="p">,</span>
      <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="s2">&quot;$self.data.category==&#39;Computer&#39;&quot;</span><span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span>
       <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Example 2</strong></p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span>
    <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
    <span class="l l-Scalar l-Scalar-Plain">tagPath:/</span>
    <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span>
       <span class="l l-Scalar l-Scalar-Plain">filter</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$value==&#39;Computer&#39;</span> <span class="c1"># only assign &quot;category&quot; if &quot;category&quot; is &quot;computer&quot;.</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>  <span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;category&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;filter&quot;</span><span class="p">:</span> <span class="s2">&quot;$value==&#39;Computer&#39;&quot;</span>
         <span class="p">}</span>
       <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Possible Output Of Example 2</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">[{</span>
   <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>
   <span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="s2">&quot;Computer&quot;</span>
 <span class="p">},</span>
<span class="p">{</span>
   <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;foo&quot;</span>
<span class="p">}]</span>
</pre></div>
</div>
</div>
<div class="section" id="id24">
<h3><span class="target" id="default">default</span><a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>The <em>default</em> field holds the value to be assigned to a property  by default. The default value is assigned  when the <a class="reference internal" href="#tagpath">tagPath</a>  does not match the <a class="reference internal" href="#absolute">absolute</a> path of any tag in the <a class="reference internal" href="#source-document">source document</a>.
If the value of the default field is a string,
this value is accepted as the <a class="reference internal" href="#value">value</a> field of the <a class="reference internal" href="#default-object">Default Object</a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><a class="reference internal" href="#default-object">Default Object</a></p>
<p class="last"><a class="reference internal" href="#expression">Expression</a></p>
</div>
<p><a class="reference internal" href="#assignment-order">assignment order</a> of the default  is from the bottom to up in an object.</p>
<p>Examples</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span>
         <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">filter</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$ self.data.categoryType==&#39;foo&#39;</span>
           <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span>
              <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">foo</span>  <span class="c1"># force set name to foo with filter</span>
              <span class="l l-Scalar l-Scalar-Plain">force</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
         <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">name</span>
     <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">productUnit</span><span class="p p-Indicator">:</span>
           <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$ self.data.categoryType==&#39;foo&#39;? &#39;LT&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;KG&#39;</span>    <span class="c1"># default value is expression.  this default value is assigned after &quot;categoryType&quot; field assigned.</span>
     <span class="l l-Scalar l-Scalar-Plain">categoryType</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&quot;foo&quot;</span>   <span class="c1"># default value a is a string.</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<blockquote>
<div><div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>  <span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;productUnit&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot; $self.data.categoryType==&#39;foo&#39;? &#39;LT&#39;: &#39;KG&#39;&quot;</span>
         <span class="p">},</span>
         <span class="nt">&quot;categoryType&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span>
         <span class="p">}</span>
       <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="id25">
<h3><span class="target" id="transformationcode">transformationCode</span><a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p><em>transformationCode</em> field refers to the definition of the <a href="#id56"><span class="problematic" id="id57">transformation_</span></a> to be used to transform the tag value.</p>
<p>Below definition work as follows:</p>
<blockquote>
<div><ul class="simple">
<li>value of tag “/country_code”  is read from <a class="reference internal" href="#source-document">source document</a></li>
<li>if this value exist in “COUNTRY_CODE_TO_NAME” <a href="#id58"><span class="problematic" id="id59">transformation_</span></a> definition, get value that match.</li>
<li>if not exist, get “DEFAULT” value of “COUNTRY_CODE_TO_NAME” <a href="#id60"><span class="problematic" id="id61">transformation_</span></a> definition</li>
</ul>
</div></blockquote>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">transformations</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">COUNTRY_CODE_TO_NAME</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">map</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">DEFAULT</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Other</span>
          <span class="l l-Scalar l-Scalar-Plain">TR</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Turkey</span>
          <span class="l l-Scalar l-Scalar-Plain">US</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">United States</span>

<span class=" -Error"> </span><span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
   <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
   <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">country</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">country_code</span>
            <span class="l l-Scalar l-Scalar-Plain">transformationCode</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">COUNTRY_CODE_TO_NAME</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;transformations&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;COUNTRY_CODE_TO_NAME&quot;</span><span class="p">:{</span>
       <span class="nt">&quot;map&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;TR&quot;</span><span class="p">:</span><span class="s2">&quot;Turkey&quot;</span><span class="p">,</span>
         <span class="nt">&quot;US&quot;</span><span class="p">:</span><span class="s2">&quot;United States&quot;</span><span class="p">,</span>
         <span class="nt">&quot;DEFAULT&quot;</span><span class="p">:</span><span class="s2">&quot;Other&quot;</span>
       <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">},</span>
 <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
   <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
   <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
   <span class="nt">&quot;fields&quot;</span><span class="p">{</span>
        <span class="nt">&quot;country&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;country_code&quot;</span>
            <span class="s2">&quot;transformationCode&quot;</span><span class="p">:</span> <span class="s2">&quot;COUNTRY_CODE_TO_NAME&quot;</span>
        <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#transformations">Transformations</a></p>
</div>
</div>
<div class="section" id="id26">
<h3><span class="target" id="function">function</span><a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>The <em>function</em> field refers to the definition of <a class="reference internal" href="#functions">functions</a> field to be used for the custom operation.
For more detail about how <a class="reference internal" href="#functions">functions</a> works, look at <a class="reference internal" href="#functions">functions</a> sections.</p>
<p>Below definition work as follows:</p>
<blockquote>
<div><ul class="simple">
<li>all fields of product   are read from <a class="reference internal" href="#source-document">source document</a></li>
<li>When the “/product” tag is closed, the “com.example.InsertProduct” function in the “insertProduct” definition is called.</li>
</ul>
</div></blockquote>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">functions</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">insertProduct</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">com.example.InsertProduct</span>

<span class=" -Error"> </span><span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
   <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/product</span>
   <span class="l l-Scalar l-Scalar-Plain">function</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">insertProduct</span>
   <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
        <span class="l l-Scalar l-Scalar-Plain">price</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">long</span>
        <span class="l l-Scalar l-Scalar-Plain">image</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;functions&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;insertProduct&quot;</span><span class="p">:</span><span class="s2">&quot;com.example.InsertProduct&quot;</span>
   <span class="p">},</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
      <span class="nt">&quot;function&quot;</span><span class="p">:</span> <span class="s2">&quot;insertProduct&quot;</span><span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
           <span class="nt">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;long&quot;</span><span class="p">,</span>
           <span class="nt">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
     <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#functions">functions</a></p>
</div>
</div>
<div class="section" id="id27">
<h3><span class="target" id="uniquename">uniqueName</span><a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>When “fieldName” fields of complex <a class="reference internal" href="#parsing-element">Parsing Element</a> definitions are the same in the DSM document,
these definitions are differentiated by using the “uniqueKey” field.
This field is optional. The default value  is the value of the “fieldName” field.
The uniqueName field may need in very complex document parsing.</p>
<p>Example Case:</p>
<p>In the following DSM document, both the users and the orders objects have a category field and the category field is an object.
The <a class="reference internal" href="#uniquename">uniqueName</a> field is used to differentiate the category objects.</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
   <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
   <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">users</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
            <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
                <span class="l l-Scalar l-Scalar-Plain">email</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
                <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span>
                     <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
                     <span class="l l-Scalar l-Scalar-Plain">uniqueName</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">userCategory</span>
                     <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
                        <span class="l l-Scalar l-Scalar-Plain">categoryName</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
        <span class="l l-Scalar l-Scalar-Plain">order</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
            <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
                <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span>
                  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
                  <span class="l l-Scalar l-Scalar-Plain">uniqueName</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">orderCategory</span>
                  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
                        <span class="l l-Scalar l-Scalar-Plain">categoryName</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;users&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
            <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
               <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
               <span class="nt">&quot;category&quot;</span><span class="p">:</span> <span class="p">{</span>
                  <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;uniqueName&quot;</span><span class="p">:</span> <span class="s2">&quot;userCategory&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
                     <span class="nt">&quot;categoryName&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
                  <span class="p">}</span>
               <span class="p">}</span>
            <span class="p">}</span>
         <span class="p">},</span>
         <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
            <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
               <span class="nt">&quot;category&quot;</span><span class="p">:</span> <span class="p">{</span>
                  <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;uniqueName&quot;</span><span class="p">:</span> <span class="s2">&quot;orderCategory&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
                     <span class="nt">&quot;categoryName&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
                  <span class="p">}</span>
               <span class="p">}</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id28">
<h3><span class="target" id="normalize">normalize</span><a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>The normalize is used to normalize the value of the tag being read.
Changes can be made to the raw string value of the tag by using normalize field.
The value of this field is an expression.</p>
<p>The following objects are available in Expression Context.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub"><a class="reference internal" href="#params">params</a></th>
<td>Map&lt;string,any&gt;</td>
<td><a class="reference internal" href="#params">params</a> object.</td>
<td><strong>params.dateFormat</strong> ==’dd.MM.yyyy’</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#self">self</a></th>
<td><a href="#id62"><span class="problematic" id="id63">Node_</span></a></td>
<td>current node object that hold data of current complex <a class="reference internal" href="#tagtype">tagType</a></td>
<td><strong>self.data.foo</strong> =&gt; foo field of current node,  <strong>self.parent.data.foo</strong> =&gt; foo field of parent node, <strong>self.data.bar.foo</strong> =&gt; foo field of bar object in current node.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#all">all</a></th>
<td>Map&lt;string,Node_&gt;</td>
<td>A map that stores all nodes by the “<a class="reference internal" href="#uniquename">uniqueName</a>” of <a class="reference internal" href="#parsing-element-object">Parsing Element Object</a></td>
<td><strong>all.bar.data.foo</strong> =&gt; foo field of <strong>bar</strong> node,  <strong>all.barList.data[0].foo</strong> =&gt; <em>foo</em> field of first item of <em>barList</em> node</td>
</tr>
<tr class="row-odd"><th class="stub">value</th>
<td>string</td>
<td>raw string value of the current tag in <a class="reference internal" href="#source-document">source document</a></td>
<td><strong>value==’Computer’</strong>,**value.startWith(‘bar’)**</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#expression">Expression</a></p>
</div>
</div>
<div class="section" id="id29">
<h3><span class="target" id="xml">xml</span><a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>The xml field is used to make extra definitions and to change “tagPath” and “tagType” fields for XML format.</p>
<p>check <a class="reference internal" href="#xml-object">XML Object</a> for more detail</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#xml-object">XML Object</a></p>
</div>
</div>
<div class="section" id="id30">
<h3><span class="target" id="ref">$ref</span><a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>$ref field is used to <a class="reference internal" href="#id43">extends</a> <a class="reference internal" href="#parsing-element">Parsing Element</a> to given <a class="reference internal" href="#fragments">fragments</a>. it’s value is a Load Time Expression.
<a class="reference internal" href="#fragments">fragments</a> can be <a class="reference internal" href="#id43">extends</a> another <a class="reference internal" href="#fragments">fragments</a> but can not extends itself.
Sometimes we don’t need parent properties. To exclude parent properties, define <a class="reference internal" href="#type">type</a> as “exclude”.  In example bellow category property is excluded.</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">xml</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="s">&quot;/Pets/Pet&quot;</span>
  <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$fragments.pet</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">exclude</span>     <span class="c1"># import all properties of  fragments.pet except category property.</span>
      <span class="l l-Scalar l-Scalar-Plain">isPopular</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">default $self.data.tags.stream().anyMatch(s-&gt;s.name==&#39;Popular&#39;)</span>
<span class="l l-Scalar l-Scalar-Plain">fragments</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">tag</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
      <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">int</span>
         <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
   <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
      <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">int</span>
         <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
   <span class="l l-Scalar l-Scalar-Plain">pet</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
     <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">long</span>
         <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
         <span class="l l-Scalar l-Scalar-Plain">status</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
         <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$fragments.category</span>
         <span class="l l-Scalar l-Scalar-Plain">photoUrls</span><span class="p p-Indicator">:</span>
              <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
              <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">photoUrls</span>
              <span class="l l-Scalar l-Scalar-Plain">xml</span><span class="p p-Indicator">:</span>
                 <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">photoUrls/photoUrls</span>
         <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span>
             <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
             <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tags</span>
             <span class="l l-Scalar l-Scalar-Plain">xml</span><span class="p p-Indicator">:</span>
               <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tags/tag</span>
             <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$fragments.tag</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
      <span class="nt">&quot;xml&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;/Pets/Pet&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;$ref&quot;</span><span class="p">:</span> <span class="s2">&quot;$fragments.pet&quot;</span><span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;exclude&quot;</span><span class="p">,</span>
         <span class="nt">&quot;isPopular&quot;</span><span class="p">:</span> <span class="s2">&quot;default $self.data.tags.stream().anyMatch(s-&gt;s.name==&#39;Popular&#39;)&quot;</span>
      <span class="p">}</span>
   <span class="p">},</span>
   <span class="nt">&quot;fragments&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;tag&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
         <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
         <span class="p">}</span>
      <span class="p">},</span>
      <span class="nt">&quot;category&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
         <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
         <span class="p">}</span>
      <span class="p">},</span>
      <span class="nt">&quot;pet&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
         <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;long&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="nt">&quot;category&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;$ref&quot;</span><span class="p">:</span> <span class="s2">&quot;$fragments.category&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;photoUrls&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
               <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;photoUrls&quot;</span><span class="p">,</span>
               <span class="nt">&quot;xml&quot;</span><span class="p">:</span> <span class="p">{</span>
                  <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;photoUrls/photoUrls&quot;</span>
               <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
               <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;tags&quot;</span><span class="p">,</span>
               <span class="nt">&quot;xml&quot;</span><span class="p">:</span> <span class="p">{</span>
                  <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;tags/tag&quot;</span>
               <span class="p">},</span>
               <span class="nt">&quot;$ref&quot;</span><span class="p">:</span> <span class="s2">&quot;$fragments.tag&quot;</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="transformation-element">
<span id="id31"></span><h2><span class="target" id="transformation-element-object">Transformation Element Object</span><a class="headerlink" href="#transformation-element" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>Transformation is a very powerful feature that used to map value of a tag from the <a class="reference internal" href="#source-document">source document</a> to destination document.
Transformation Element holds the mapping and how the mapping will be used with <a href="#id32"><span class="problematic" id="id33">`</span></a>Parsing Element`_s.
We can consider, transformation as switch-case in programing language.
Every record in the mapping table is a case and DEFAULT record is a default case fo switch-case statement.</p>
<dl class="docutils">
<dt>Fields:</dt>
<dd><table border="1" class="first last docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Field Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">map</th>
<td>Map&lt;String,Object&gt;</td>
<td><strong>REQUIRED</strong> mapping table from source to destination</td>
</tr>
<tr class="row-odd"><th class="stub">onlyIfExist</th>
<td>boolean</td>
<td>transform source value only if exist in mapping table. if not exist use as is.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#ref">$ref</a></th>
<td>string</td>
<td>ref field is used to <a class="reference internal" href="#id43">extends</a> current Transformation Element to another Transformation Element. it is an expression.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">transformations</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">COUNTRY_CODE_TO_NAME</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">map</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">DEFAULT</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Other</span>
          <span class="l l-Scalar l-Scalar-Plain">TR</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Turkey</span>
          <span class="l l-Scalar l-Scalar-Plain">US</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">United States</span>
    <span class="l l-Scalar l-Scalar-Plain">COUNTRY_CODe_TO_NAME_IF_EXIST</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">$ref</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$transformations.COUNTRY_CODE_TO_NAME</span>
         <span class="l l-Scalar l-Scalar-Plain">onlyIfExist</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
         <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
         <span class="nt">&quot;transformations&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;COUNTRY_CODE_TO_NAME&quot;</span><span class="p">:</span> <span class="p">{</span>
                     <span class="nt">&quot;map&quot;</span><span class="p">:</span> <span class="p">{</span>
                             <span class="nt">&quot;DEFAULT&quot;</span><span class="p">:</span> <span class="s2">&quot;Other&quot;</span><span class="p">,</span>
                             <span class="nt">&quot;TR&quot;</span><span class="p">:</span> <span class="s2">&quot;Turkey&quot;</span><span class="p">,</span>
                             <span class="nt">&quot;US&quot;</span><span class="p">:</span> <span class="s2">&quot;United States&quot;</span>
                     <span class="p">}</span>
             <span class="p">},</span>
             <span class="nt">&quot;COUNTRY_CODe_TO_NAME_IF_EXIST&quot;</span><span class="p">:</span> <span class="p">{</span>
                     <span class="nt">&quot;$ref&quot;</span><span class="p">:</span> <span class="s2">&quot;$transformations.COUNTRY_CODE_TO_NAME&quot;</span><span class="p">,</span>
                     <span class="nt">&quot;onlyIfExist&quot;</span><span class="p">:</span> <span class="kc">true</span>
             <span class="p">}</span>
         <span class="p">}</span>
  <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id34">
<h2><span class="target" id="default-object">Default Object</span><a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>Default Object determines how the <a class="reference internal" href="#default">default</a> field is assigned.</p>
<dl class="docutils">
<dt>Fields:</dt>
<dd><table border="1" class="first last docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Field Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub"><a class="reference internal" href="#value">value</a></th>
<td>string</td>
<td><strong>REQUIRED</strong> default value that is assigned to current field</td>
</tr>
<tr class="row-odd"><th class="stub">force</th>
<td>string</td>
<td>Use the default value, even if the tag specified in the “<a class="reference internal" href="#tagpath">tagPath</a>” field is in the source file.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<div class="section" id="id35">
<h3><span class="target" id="value">value</span><a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<p><strong>REQUIRED</strong>
it  holds default value that is assigned to current field</p>
<p>if the value starts with the “$” character, it is treated as “expression” and is resolved by expression resolver.</p>
<p>The following objects are available in Expression Context.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub"><a class="reference internal" href="#params">params</a></th>
<td>Map&lt;string,any&gt;</td>
<td><a class="reference internal" href="#params">params</a> object.</td>
<td><strong>params.dateFormat</strong> ==’dd.MM.yyyy’</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#self">self</a></th>
<td><a href="#id64"><span class="problematic" id="id65">Node_</span></a></td>
<td>current node object that hold data of current complex <a class="reference internal" href="#tagtype">tagType</a></td>
<td><strong>self.data.foo</strong> =&gt; foo field of current node,  <strong>self.parent.data.foo</strong> =&gt; foo field of parent node, <strong>self.data.bar.foo</strong> =&gt; foo field of bar object in current node.</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#all">all</a></th>
<td>Map&lt;string,Node_&gt;</td>
<td>A map that stores all nodes by the “fieldName” of <a class="reference internal" href="#parsing-element-object">Parsing Element Object</a></td>
<td><strong>all.bar.data.foo</strong> =&gt; foo field of <strong>bar</strong> node,  <strong>all.barList.data[0].foo</strong> =&gt; <em>foo</em> field of first item of <em>barList</em> node</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id36">
<h3><span class="target" id="force">force</span><a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<p>if it’s value is true, it means Use the default value,
even if the tag specified in the “<a class="reference internal" href="#tagpath">tagPath</a>” field is in the source file.
if force value is true, default value is assigned both start and end of <a class="reference internal" href="#tagparentpath">tagParentPath</a>.
It is mostly used with filter field or with value in <a class="reference internal" href="#params">params</a>.
The default value is false.</p>
<p>check <a class="reference internal" href="#default">default</a> for detailed example.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#default">default</a></p>
</div>
</div>
</div>
<div class="section" id="id37">
<h2><span class="target" id="xml-object">XML Object</span><a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>XML Object is used to make extra definitions and to change “<a class="reference internal" href="#tagpath">tagPath</a>” and “<a class="reference internal" href="#tagparentpath">tagParentPath</a>” fields for xml format</p>
<dl class="docutils">
<dt>Fields:</dt>
<dd><table border="1" class="first last docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Field Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub"><a class="reference internal" href="#tagpath">tagPath</a></th>
<td>string</td>
<td>xml specific <a class="reference internal" href="#tagpath">tagPath</a> definition default value is <a class="reference internal" href="#tagpath">tagPath</a> field of <a class="reference internal" href="#parsing-element-object">Parsing Element Object</a></td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#tagparentpath">tagParentPath</a></th>
<td>string</td>
<td>xml specific <a class="reference internal" href="#tagparentpath">tagParentPath</a> definition. default value is <a class="reference internal" href="#tagparentpath">tagParentPath</a> field of <a class="reference internal" href="#parsing-element-object">Parsing Element Object</a></td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#attribute">attribute</a></th>
<td>boolean</td>
<td>attribute field is indicates that the current <a class="reference internal" href="#parsing-element-object">Parsing Element Object</a> is an attribute on the tag pointed to by the tagParentPath field in the xml.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<div class="section" id="id38">
<h3><span class="target" id="attribute">attribute</span><a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h3>
<p>The attribute field is indicates that the current <a class="reference internal" href="#parsing-element">Parsing Element</a> is an attribute on the tag pointed to by the <a class="reference internal" href="#tagparentpath">tagParentPath</a> field in the xml.</p>
<p>Examples:</p>
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
   <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
   <span class="l l-Scalar l-Scalar-Plain">xml</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/Pets/Pet</span>    <span class="c1"># xml specific tagPath definition</span>
   <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span>
           <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">long</span>
           <span class="l l-Scalar l-Scalar-Plain">xml</span><span class="p p-Indicator">:</span>
             <span class="l l-Scalar l-Scalar-Plain">attribute</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>   <span class="c1"># id field is an attribute that is located at /Pets/Pet tag.</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
        <span class="l l-Scalar l-Scalar-Plain">price</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">long</span>
        <span class="l l-Scalar l-Scalar-Plain">image</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>

   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;/&quot;</span> <span class="p">,</span>
      <span class="nt">&quot;xml&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span> <span class="s2">&quot;/Pets/Pet&quot;</span>
       <span class="p">}</span>
      <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;long&quot;</span><span class="p">,</span>
               <span class="nt">&quot;xml&quot;</span><span class="p">:{</span>
                  <span class="nt">&quot;attribute&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span>
               <span class="p">}</span>
           <span class="p">},</span>
           <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
           <span class="nt">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;long&quot;</span><span class="p">,</span>
           <span class="nt">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
     <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#xml">xml</a></p>
</div>
</div>
</div>
</div>
<div class="section" id="absolute-tag-path">
<span id="absolute"></span><h1>Absolute Tag Path<a class="headerlink" href="#absolute-tag-path" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<p>Absolute Tag Path  is found by <strong>joining all tag name from top to bottom with “/”</strong> character until specified tag.</p>
<p>Below example is json representation of array of Pet object.</p>
<p>Absolute tag paths are listed below.</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>[
  {
 &quot;id&quot;: 1,
 &quot;category&quot;: {
   &quot;id&quot;: 1,
   &quot;name&quot;: &quot;Cats&quot;
 },
 &quot;name&quot;: &quot;PetNameForm&quot;,
 &quot;photoUrls&quot;: [
   &quot;url1&quot;,
   &quot;url2&quot;,
   &quot;url3&quot;
 ],
 &quot;tags&quot;: [
   {
     &quot;id&quot;: 2,
     &quot;name&quot;: &quot;New&quot;
   },
   {
     &quot;id&quot;: 2,
     &quot;name&quot;: &quot;Cute&quot;
   },
 ],
 &quot;status&quot;: &quot;sold&quot;
]
</pre></div>
</div>
<p>Absolute tag paths of all field in above json document are listed below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Field Name</th>
<th class="head">Absolute Path</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">&#160;</th>
<td>/</td>
</tr>
<tr class="row-odd"><th class="stub">Pet:id</th>
<td>/id</td>
</tr>
<tr class="row-even"><th class="stub">Pet:category</th>
<td>/category</td>
</tr>
<tr class="row-odd"><th class="stub">Pet:category.id</th>
<td>/category/id</td>
</tr>
<tr class="row-even"><th class="stub">Pet:category.name</th>
<td>/category/name</td>
</tr>
<tr class="row-odd"><th class="stub">Pet:name</th>
<td>/name</td>
</tr>
<tr class="row-even"><th class="stub">Pet:photoUrls</th>
<td>/photoUrls</td>
</tr>
<tr class="row-odd"><th class="stub">Pet:photoUrls.(item)</th>
<td>/photoUrls</td>
</tr>
<tr class="row-even"><th class="stub">Pet:tags</th>
<td>/tags</td>
</tr>
<tr class="row-odd"><th class="stub">Pet:tags.id</th>
<td>/tags/id</td>
</tr>
<tr class="row-even"><th class="stub">Pet.tags.name</th>
<td>/tags/name</td>
</tr>
<tr class="row-odd"><th class="stub">Pet.status</th>
<td>/status</td>
</tr>
</tbody>
</table>
<p>Same Example for XML:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&lt;Pets&gt;
   &lt;Pet&gt;
      &lt;category&gt;
        &lt;id&gt;1589257917030308320&lt;/id&gt;
        &lt;name&gt;Cats&lt;/name&gt;
      &lt;/category&gt;
      &lt;id&gt;6598053714149410844&lt;/id&gt;
      &lt;name&gt;PetNameForm&lt;/name&gt;
      &lt;photoUrls&gt;
        &lt;photoUrl&gt;url1&lt;/photoUrl&gt;
        &lt;photoUrl&gt;url2&lt;/photoUrl&gt;
        &lt;photoUrl&gt;url3&lt;/photoUrl&gt;
      &lt;/photoUrls&gt;
      &lt;status&gt;sold&lt;/status&gt;
      &lt;tags&gt;
        &lt;tag&gt;
          &lt;id&gt;4250197027829930927&lt;/id&gt;
          &lt;name&gt;New&lt;/name&gt;
        &lt;/tag&gt;
        &lt;tag&gt;
          &lt;id&gt;8271965854563266871&lt;/id&gt;
          &lt;name&gt;Cute&lt;/name&gt;
        &lt;/tag&gt;
        &lt;tag&gt;
          &lt;id&gt;3487705188883980239&lt;/id&gt;
          &lt;name&gt;Popular&lt;/name&gt;
        &lt;/tag&gt;
      &lt;/tags&gt;
    &lt;/Pet&gt;
&lt;/Pets&gt;
</pre></div>
</div>
<p>Absolute tag paths of all field in above XML document are listed below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Field Name</th>
<th class="head">Absolute Path</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">&#160;</th>
<td>/</td>
</tr>
<tr class="row-odd"><th class="stub">Pets array</th>
<td>/Pets</td>
</tr>
<tr class="row-even"><th class="stub">Pets array item</th>
<td>/Pets/Pet</td>
</tr>
<tr class="row-odd"><th class="stub">Pet:id</th>
<td>//Pets/Pet/id</td>
</tr>
<tr class="row-even"><th class="stub">Pet:category</th>
<td>/Pets/Pet/category</td>
</tr>
<tr class="row-odd"><th class="stub">Pet:category.id</th>
<td>/Pets/Pet/category/id</td>
</tr>
<tr class="row-even"><th class="stub">Pet:category.name</th>
<td>/Pets/Pet/category/name</td>
</tr>
<tr class="row-odd"><th class="stub">Pet:name</th>
<td>/name</td>
</tr>
<tr class="row-even"><th class="stub">Pet:photoUrls</th>
<td>/Pets/Pet/photoUrls</td>
</tr>
<tr class="row-odd"><th class="stub">Pet:photoUrls.(item)</th>
<td>/Pets/Pet/photoUrls</td>
</tr>
<tr class="row-even"><th class="stub">Pet:tags</th>
<td>/Pets/Pet/tags</td>
</tr>
<tr class="row-odd"><th class="stub">Pet:id</th>
<td>/Pets/Pet/tags/id</td>
</tr>
<tr class="row-even"><th class="stub">Pet:tags.name</th>
<td>/Pets/Pet/tags/name</td>
</tr>
<tr class="row-odd"><th class="stub">Pet.status</th>
<td>/Pets/Pet/status</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><a class="reference internal" href="#tagpath">tagPath</a></p>
<p class="last"><a class="reference internal" href="#tagparentpath">tagParentPath</a></p>
</div>
</div>
<div class="section" id="expression">
<span id="id39"></span><h1><span class="target" id="expressions">Expressions</span><a class="headerlink" href="#expression" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<p>Expressions make DSM very flexible. Expression allows a value to be filtered, manipulated, modified etc.
Expressions can access objects in the expression context and do operations by using these objects.</p>
<p>Expressions can be used at both <a class="reference internal" href="#source-document">source document</a> parsing time and <a class="reference internal" href="#dsm-document">DSM document</a> loading time.</p>
<p>There are two type of expression, <strong>Loading Time</strong> and <strong>Parsing Time</strong> expressions.</p>
<div class="section" id="loading-time-expression">
<h2>Loading Time Expression<a class="headerlink" href="#loading-time-expression" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>Loading Time Expression is expressions that is <strong>only used during loading of `DSM document`.</strong>
It allows you to <strong>modify structure of  DSM document.</strong></p>
<p>Loading Time Expressions are defined in the <a class="reference internal" href="#extends">$extends</a> and or <a class="reference internal" href="#ref">$ref</a> fields. For more detail check <a class="reference internal" href="#extends">$extends</a> and or <a class="reference internal" href="#ref">$ref</a> field.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><a class="reference internal" href="#extends">$extends</a></p>
<p class="last"><a class="reference internal" href="#ref">$ref</a></p>
</div>
<p>The following fields are available in the expression context.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub"><a class="reference internal" href="#params">params</a></th>
<td>Map&lt;string,Object&gt;</td>
<td><a class="reference internal" href="#params">params</a> object.</td>
<td><strong>params.dateFormat</strong> ==’dd.MM.yyyy’</td>
</tr>
</tbody>
</table>
<div class="section" id="example">
<h3><strong>Example</strong><a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">rootPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/bar/foo/</span>
<span class="l l-Scalar l-Scalar-Plain">$extends</span><span class="p p-Indicator">:</span>
   <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/foo/bar/external.yaml</span>
   <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">$params.rootPath.concat(&quot;externalWithExpression.yaml&quot;)</span> <span class="c1"># use &quot;params&quot; object in expression context to get &quot;rootPath&quot; property</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;params&quot;</span><span class="p">:{</span>
   <span class="nt">&quot;rootPath&quot;</span><span class="p">:</span><span class="s2">&quot;/bar/foo/&quot;</span>
   <span class="p">},</span>
   <span class="nt">&quot;$extends&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;/foo/bar/external.json&quot;</span><span class="p">,</span><span class="s2">&quot;$params.rootPath.concat(&#39;externalWithExpression.json&#39;)&quot;</span><span class="p">]</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="parsing-time-expression">
<h2>Parsing Time Expression<a class="headerlink" href="#parsing-time-expression" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>Parsing Time Expression is expressions that is <strong>only used during parsing of `source document`.</strong>
It allows you to change the structure of the output, change the property value, import a specific part of the <a class="reference internal" href="#source-document">source document</a>, filter by property , transform a property, and almost  all operations that can be done with custom coding.</p>
<p>The Parsing Time Expressions can be defined in the <a class="reference internal" href="#filter">filter</a>, <a class="reference internal" href="#default">default</a>, and <a class="reference internal" href="#normalize">normalize</a> fields.</p>
<p>The following objects are available in the expression context.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub"><a class="reference internal" href="#params">params</a></th>
<td>Map&lt;string,any&gt;</td>
<td><a class="reference internal" href="#params">params</a> object.</td>
<td><strong>params.dateFormat</strong> ==’dd.MM.yyyy’</td>
</tr>
<tr class="row-odd"><th class="stub"><a class="reference internal" href="#all">all</a></th>
<td>Map&lt;string,Node_&gt;</td>
<td>A map that stores all nodes by the “<a class="reference internal" href="#uniquename">uniqueName</a>” of <a class="reference internal" href="#parsing-element-object">Parsing Element Object</a></td>
<td><strong>all.bar.data.foo</strong> =&gt; foo field of <strong>bar</strong> node,  <strong>all.barList.data[0].foo</strong> =&gt; <em>foo</em> field of first item of <em>barList</em> node</td>
</tr>
<tr class="row-even"><th class="stub"><a class="reference internal" href="#self">self</a></th>
<td><a href="#id66"><span class="problematic" id="id67">Node_</span></a></td>
<td>current node object that hold data of current complex <a class="reference internal" href="#tagtype">tagType</a></td>
<td><strong>self.data.foo</strong> =&gt; foo field of current node,     <strong>self.parent.data.foo</strong> =&gt; foo field of parent node, <strong>self.data.bar.foo</strong> =&gt; foo field of bar object in current node.</td>
</tr>
<tr class="row-odd"><th class="stub">value</th>
<td>string</td>
<td>(not available in <a class="reference internal" href="#default">default</a> field) The raw string value of the current tag in <a class="reference internal" href="#source-document">source document</a></td>
<td><strong>value==’Computer’</strong>,**value.startWith(‘bar’)**</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a href="#id68"><span class="problematic" id="id69">Node_</span></a>  ,  <a class="reference internal" href="#default">default</a>,  <a class="reference internal" href="#filter">filter</a>,   <a class="reference internal" href="#normalize">normalize</a>,  <a class="reference internal" href="#extends">$extends</a>,  <a class="reference internal" href="#ref">$ref</a></p>
</div>
<div class="section" id="id40">
<h3><span class="target" id="all">all</span><a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>Each complex <a class="reference internal" href="#tagtype">tagType</a> creates a <a href="#id70"><span class="problematic" id="id71">node_</span></a>. The created nodes can be accessed using the “all” object in the expressions.
Each node is stored in <a class="reference internal" href="#all">all</a> map with the <a class="reference internal" href="#uniquename">uniqueName</a> of the <a class="reference internal" href="#parsing-element">Parsing Element</a> that creates the node.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
     <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">order</span><span class="p p-Indicator">:</span>
              <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span>  <span class="l l-Scalar l-Scalar-Plain">object</span>
              <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
                 <span class="l l-Scalar l-Scalar-Plain">state</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
                 <span class="l l-Scalar l-Scalar-Plain">createDate</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">date</span>
                 <span class="l l-Scalar l-Scalar-Plain">saleLines</span><span class="p p-Indicator">:</span>
                      <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
                      <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
                         <span class="l l-Scalar l-Scalar-Plain">product</span><span class="p p-Indicator">:</span>
                               <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
                               <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
                                   <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
                                   <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
                                   <span class="l l-Scalar l-Scalar-Plain">price</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
                         <span class="l l-Scalar l-Scalar-Plain">quantity</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">long</span>
                         <span class="l l-Scalar l-Scalar-Plain">unit</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>

         <span class="l l-Scalar l-Scalar-Plain">company</span><span class="p p-Indicator">:</span>
              <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
              <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
                  <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
                  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
                  <span class="l l-Scalar l-Scalar-Plain">price</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
</pre></div>
</div>
<p>for configuration at above following <a class="reference internal" href="#all">all</a> map is created.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">parent</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
      <span class="l l-Scalar l-Scalar-Plain">data</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">order</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">order.data</span>        <span class="c1"># contains data of the order node</span>
         <span class="l l-Scalar l-Scalar-Plain">company</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">company.data</span>
<span class="l l-Scalar l-Scalar-Plain">order</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">parent</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">result</span>
        <span class="l l-Scalar l-Scalar-Plain">data</span><span class="p p-Indicator">:</span>
           <span class="l l-Scalar l-Scalar-Plain">orderLines</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">orderLines.data</span>
<span class="l l-Scalar l-Scalar-Plain">company</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">parent</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">result</span>
        <span class="l l-Scalar l-Scalar-Plain">data</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{}</span>
<span class="l l-Scalar l-Scalar-Plain">orderLines</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">parent</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">order</span>
     <span class="l l-Scalar l-Scalar-Plain">data</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[{</span> <span class="nv">product</span><span class="p p-Indicator">:</span><span class="nv">product.data</span>  <span class="p p-Indicator">}]</span>  <span class="c1"># data is array. each item contains product data</span>
<span class="l l-Scalar l-Scalar-Plain">product</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">parent</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">orderLines</span>
      <span class="l l-Scalar l-Scalar-Plain">data</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
<p>Example usages:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">product.parent:</th><td class="field-body">is equals orderLine node</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">product.parent.data:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">is equals orderLine.data</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">product.parent.parent:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">is equals order</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">product.parent.parent.data:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">is equals order.data</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">product.parent.parent.parent:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">is equals result</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">order.data.orderLine:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">is equals orderLine.data</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">order.data.orderLine[lastIndex].product:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">is equals product.data</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id41">
<h3><span class="target" id="self">self</span><a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<p>current node object that hold data of current complex tagType.</p>
<p>Example usages:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">self.parent:</th><td class="field-body">parent node</td>
</tr>
<tr class="field-even field"><th class="field-name">self.data.foo:</th><td class="field-body">foo field of current object</td>
</tr>
<tr class="field-odd field"><th class="field-name">self.data[0]:</th><td class="field-body">First element of current array</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id42">
<h3><strong>Example</strong><a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
<hr class="docutils" />
<div class="content-tabs docutils container">
<div class="tab-content docutils container" id="tab-yaml">
<p class="tab-title">YAML</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span>
         <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">filter</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$ self.data.categoryType==&#39;foo&#39;</span>     <span class="c1"># filter expression.</span>
           <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span>
              <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">foo</span>  <span class="c1"># force set name to foo with filter</span>
              <span class="l l-Scalar l-Scalar-Plain">force</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
         <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">name</span>
     <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
        <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
           <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">int</span>
           <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span>
             <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">self.parent.data.categoryType==&#39;foo&#39;? &#39;Foo&#39;:&#39;Bar&#39;</span>  <span class="c1"># default value is expression.</span>
           <span class="l l-Scalar l-Scalar-Plain">categoryType</span><span class="p p-Indicator">:</span>
               <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">all.data.categoryType==&#39;foo&#39;? &#39;Foo&#39;:&#39;Bar&#39;</span>  <span class="c1"># default value is expression. and its is equivalent of expression in category.name property.</span>
     <span class="l l-Scalar l-Scalar-Plain">productUnit</span><span class="p p-Indicator">:</span>
           <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$ self.data.categoryType==&#39;foo&#39;? &#39;LT&#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;KG&#39;</span>    <span class="c1"># default value is expression.</span>
     <span class="l l-Scalar l-Scalar-Plain">categoryType</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span> <span class="s">&quot;foo&quot;</span>   <span class="c1"># default value a is a string.</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-json">
<p class="tab-title">JSON</p>
<blockquote>
<div><div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="nt">&quot;result&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;tagType&quot;</span><span class="p">:</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="nt">&quot;tagPath&quot;</span><span class="p">:</span><span class="s2">&quot;/&quot;</span>  <span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:{</span>
         <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;category&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span><span class="p">,</span>
            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;self.parent.data.categoryType==&#39;foo&#39;? &#39;Foo&#39;:&#39;Bar&#39;&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="nt">&quot;categoryType&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;default: all.data.categoryType==&#39;foo&#39;? &#39;Foo&#39;:&#39;Bar&#39;&quot;</span><span class="p">,</span>
            <span class="p">}</span>
         <span class="p">},</span>
         <span class="nt">&quot;productUnit&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot; $self.data.categoryType==&#39;foo&#39;? &#39;LT&#39;: &#39;KG&#39;&quot;</span>
         <span class="p">},</span>
         <span class="nt">&quot;categoryType&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span>
         <span class="p">}</span>
       <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="merge-of-dsm-document">
<span id="id43"></span><span id="extend"></span><span id="extended"></span><span id="merged"></span><span id="merge"></span><h1>Merge of DSM Document<a class="headerlink" href="#merge-of-dsm-document" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<p><a class="reference internal" href="#dsm-document">DSM document</a> can extends to another DSM document by using <a class="reference internal" href="#extends">$extends</a> field.</p>
<p><a class="reference internal" href="#parsing-element">Parsing Element</a> can extends to another Parsing Element by using <a class="reference internal" href="#ref">$ref</a> field.</p>
<p>DSM documents and Parsing Elements are merged with each other.</p>
<p>Before going to explain merge process lets make some definition.</p>
<dl class="docutils">
<dt>source:</dt>
<dd>DSM Document or Parsing Element that we want to extend to another.</dd>
<dt>target:</dt>
<dd>DSM Document or Parsing Element that we want to extend to.</dd>
<dt>Merge process work as follows:</dt>
<dd><dl class="first last docutils">
<dt>for every field of target do followings:</dt>
<dd><ol class="first last arabic">
<li><p class="first">if field <strong>not exist</strong> in source, <strong>copy</strong> value of target to source.</p>
</li>
<li><p class="first">if field <strong>exist</strong> in source do followings</p>
<p>2.1.  if  <strong>type</strong> of fields  is <strong>different</strong> then <strong>skip</strong> this field.</p>
<p>2.2.  if  <strong>type</strong> of fields  is <strong>same</strong> then do followings</p>
<blockquote>
<div><p>2.2.1.  if <strong>type</strong> is <strong>simple type</strong> (string,number) then <strong>skip</strong> this field (do not copy target to source)</p>
<p>2.2.2.  if <strong>type</strong> is <strong>array</strong> then <strong>add</strong> target values to <strong>start of</strong> the source values</p>
<p>2.2.3.  if <strong>type</strong> is <strong>map</strong> then <strong>start Merge process</strong> for those two map.</p>
</div></blockquote>
</li>
</ol>
</dd>
</dl>
</dd>
</dl>
<p>Example  merge process of DSM documents:</p>
<p>external DSM Document:(external.yaml)</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">dateFormat</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dd.MM.yyyy</span>
  <span class="l l-Scalar l-Scalar-Plain">rootPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/foo/bar</span>
  <span class="l l-Scalar l-Scalar-Plain">acceptedCountryCode</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">TR</span><span class="p p-Indicator">,</span><span class="nv">US</span><span class="p p-Indicator">,</span><span class="nv">FR</span><span class="p p-Indicator">]</span>
<span class="l l-Scalar l-Scalar-Plain">transformations</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">COUNTRY_CODE_TO_NAME</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">map</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">DEFAULT</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Other</span>
          <span class="l l-Scalar l-Scalar-Plain">TR</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Turkey</span>
          <span class="l l-Scalar l-Scalar-Plain">US</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">United States</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">price</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">double</span>
</pre></div>
</div>
<p>current DSM Document:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">$extends</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$params.rootPath.concat(&quot;external.yaml&quot;)</span> <span class="c1"># resolve expression</span>
<span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">rootPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/DSM/MAIN</span>
  <span class="l l-Scalar l-Scalar-Plain">acceptedCountryCode</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">UK</span><span class="p p-Indicator">]</span>
<span class="l l-Scalar l-Scalar-Plain">transformations</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">COUNTRY_CODE_TO_NAME</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">map</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">UK</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">United Kingdom</span>
<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
</pre></div>
</div>
<p>After merge process following configuration will take effect:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="l l-Scalar l-Scalar-Plain">$extends</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$params.rootPath.concat(&quot;external.yaml&quot;)</span>
<span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">dateFormat</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dd.MM.yyyy</span> <span class="c1"># (rule 1) imported from external document</span>
  <span class="l l-Scalar l-Scalar-Plain">rootPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/DSM/MAIN</span>  <span class="c1"># (rule 2.2.1)  overwritten by current DSM document</span>
  <span class="l l-Scalar l-Scalar-Plain">acceptedCountryCode</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">TR</span><span class="p p-Indicator">,</span><span class="nv">US</span><span class="p p-Indicator">,</span><span class="nv">FR</span><span class="p p-Indicator">,</span><span class="nv">UK</span><span class="p p-Indicator">]</span> <span class="c1">#(rule 2.2.2)  external list element added to start off current list element(UK is only exist in current document and located at the end )</span>
<span class="l l-Scalar l-Scalar-Plain">transformations</span><span class="p p-Indicator">:</span>    <span class="c1">#(rule 2.2.3)  transformations field exist in both source and target and type is MAP</span>
    <span class="l l-Scalar l-Scalar-Plain">COUNTRY_CODE_TO_NAME</span><span class="p p-Indicator">:</span>   <span class="c1">#(rule 2.2.3)</span>
        <span class="l l-Scalar l-Scalar-Plain">map</span><span class="p p-Indicator">:</span>
          <span class="l l-Scalar l-Scalar-Plain">UK</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">United Kingdom</span>  <span class="c1"># only exist in current DSM document</span>
          <span class="l l-Scalar l-Scalar-Plain">DEFAULT</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Other</span>     <span class="c1"># (rule 1) imported from external document</span>
          <span class="l l-Scalar l-Scalar-Plain">TR</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Turkey</span>     <span class="c1"># (rule 1) imported from external document</span>
          <span class="l l-Scalar l-Scalar-Plain">US</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">United States</span>  <span class="c1"># (rule 1) imported from external document</span>

<span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>  <span class="c1"># exist only current DSM document</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
     <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>  <span class="c1"># exist only current DSM document</span>
     <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
     <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>      <span class="c1"># imported from external document</span>
     <span class="l l-Scalar l-Scalar-Plain">price</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">double</span>
</pre></div>
</div>
</div>
<div class="section" id="property-assignment-order">
<span id="assignment-order"></span><h1>Property Assignment Order<a class="headerlink" href="#property-assignment-order" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<p>The property assignment order is very important for the correct operation of the expressions in the filter field and in the default field
Referencing a not existing field in “self.data” can cause NullPointerException.</p>
<p>DSM reads <cite>source document</cite> top to bottom in one pass as a stream.
Once it reads a tag <cite>source document</cite>, it checks whether <a class="reference internal" href="#absolute">absolute</a> path of the tag match with <a href="#id72"><span class="problematic" id="id73">tagAbsolutePath_</span></a> or <a href="#id74"><span class="problematic" id="id75">taParentAbsolutePath_</span></a> of any of <a class="reference internal" href="#parsing-element">Parsing Element</a>
if Parsing Element founds, value of tag is assigned according to <a class="reference internal" href="#parsing-element">Parsing Element</a> definitions.</p>
<p>The Property assignment work as follows:</p>
<p>let’s name the tag that is pointed by <a class="reference internal" href="#tagpath">tagPath</a>  as <strong>current tag</strong> and the tag that is pointed by tagParentPath  as <strong>parent tag</strong></p>
<p>The property is assigned when <strong>current tag</strong> is closed except <a class="reference internal" href="#attribute">attribute</a> properties for the XML document.
The <a class="reference internal" href="#attribute">attribute</a> properties is assigned at start of <strong>parent tag</strong> by reading attribute value of <strong>parent tag</strong></p>
<dl class="docutils">
<dt>Order of the property assignment as follows:</dt>
<dd><ul class="first last simple">
<li>the closing of  <a href="#id76"><span class="problematic" id="id77">`current tag`_</span></a>  is near to the document header(starting of <span class="target" id="parent-tag">parent tag</span>” for attribute )</li>
<li>deeper <a href="#id78"><span class="problematic" id="id79">`current tag`_</span></a></li>
<li>Parsing Element definition close to the document header.(<strong>assignment start from top to bottom</strong> )</li>
</ul>
</dd>
</dl>
<p>The <a class="reference internal" href="#default">default</a> value of a property is assigned when current tag not exist in source document and  <strong>parent tag”</strong> is closed(for all property, include <a class="reference internal" href="#attribute">attribute</a>).</p>
<p><a class="reference internal" href="#default">default</a> value is assigned only once except <a class="reference internal" href="#force">force</a> field is true. if <a class="reference internal" href="#force">force</a> field is true default value is assigned at both start and close of <strong>parent tag</strong></p>
<dl class="docutils">
<dt>Order of the default value of property assignment as follows:</dt>
<dd><ul class="first last simple">
<li>assure  the property is not assigned  or  force field is  true</li>
<li>the closing of <a href="#id44"><span class="problematic" id="id45">`</span></a>parent tag`_is near to the document header.</li>
<li>deeper <a class="reference internal" href="#parent-tag">parent tag</a></li>
<li>Parsing Element definition far to the document header.(<strong>assignment start bottom to top</strong> )</li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;Pets&gt;</span>
   <span class="nt">&lt;Pet&gt;</span>
      <span class="nt">&lt;category&gt;</span>
        <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;name&gt;</span>Cats<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;/category&gt;</span>
      <span class="nt">&lt;id&gt;</span>6598053714149410844<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;name&gt;</span>Van Kedisi<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;photoUrls&gt;</span>
        <span class="nt">&lt;photoUrl&gt;</span>url1<span class="nt">&lt;/photoUrl&gt;</span>
        <span class="nt">&lt;photoUrl&gt;</span>url2<span class="nt">&lt;/photoUrl&gt;</span>
        <span class="nt">&lt;photoUrl&gt;</span>url3<span class="nt">&lt;/photoUrl&gt;</span>
      <span class="nt">&lt;/photoUrls&gt;</span>
      <span class="nt">&lt;status&gt;</span>sold<span class="nt">&lt;/status&gt;</span>
      <span class="nt">&lt;tags&gt;</span>
        <span class="nt">&lt;tag&gt;</span>
          <span class="nt">&lt;id&gt;</span>1<span class="nt">&lt;/id&gt;</span>
          <span class="nt">&lt;name&gt;</span>New<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/tag&gt;</span>
        <span class="nt">&lt;tag&gt;</span>
          <span class="nt">&lt;id&gt;</span>2<span class="nt">&lt;/id&gt;</span>
          <span class="nt">&lt;name&gt;</span>Cute<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/tag&gt;</span>
        <span class="nt">&lt;tag&gt;</span>
          <span class="nt">&lt;id&gt;</span>3<span class="nt">&lt;/id&gt;</span>
          <span class="nt">&lt;name&gt;</span>Popular<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/tag&gt;</span>
      <span class="nt">&lt;/tags&gt;</span>
    <span class="nt">&lt;/Pet&gt;</span>
<span class="nt">&lt;/Pets&gt;</span>
</pre></div>
</div>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">result</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
  <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
  <span class="l l-Scalar l-Scalar-Plain">xml</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="s">&quot;/Pets/Pet&quot;</span>
  <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">id:long</span>
   <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">status</span><span class="p p-Indicator">:</span>
   <span class="l l-Scalar l-Scalar-Plain">isPopular</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">default $self.data.tags.stream().anyMatch(s-&gt;s.name==&#39;Popular&#39;)</span>
   <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span>
       <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">object</span>
       <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">long</span>
   <span class="l l-Scalar l-Scalar-Plain">photoUrls</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
        <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">photoUrls</span>
        <span class="l l-Scalar l-Scalar-Plain">xml</span><span class="p p-Indicator">:</span>
           <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">photoUrls/photoUrls</span>
   <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span>
       <span class="l l-Scalar l-Scalar-Plain">tagType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">array</span>
       <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tags</span>
       <span class="l l-Scalar l-Scalar-Plain">xml</span><span class="p p-Indicator">:</span>
         <span class="l l-Scalar l-Scalar-Plain">tagPath</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tags/tag</span>
       <span class="l l-Scalar l-Scalar-Plain">fields</span><span class="p p-Indicator">:</span>
           <span class="l l-Scalar l-Scalar-Plain">id:int</span>
           <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span>
</pre></div>
</div>
<p>DSM read document  top to bottom.</p>
<ul class="simple">
<li>it founds <strong>/Pets/Pet</strong> <a class="reference internal" href="#absolute">absolute</a> path that match with <strong>result</strong> Parsing Element. Then create a <strong>array</strong> and put first item into the array.</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span></span>result=[{}]
</pre></div>
</div>
<ul class="simple">
<li>it founds <strong>/Pets/Pet/category</strong> match with <strong>category</strong> Parsing Element. then it create a <strong>object</strong> and assign it to <strong>category</strong> property</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span></span>result=[{
 &quot;category&quot;:{}
 }]
</pre></div>
</div>
<ul class="simple">
<li>it founds   <strong>/Pets/Pet/category/id</strong> match with <strong>category.id</strong> Parsing Element. then it assign it to <strong>id</strong> property of <strong>category object</strong>.</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span></span>result=[{
 &quot;category&quot;:{
   &quot;id&quot;: 3
 }
 }]
</pre></div>
</div>
<ul class="simple">
<li>it founds   <strong>/Pets/Pet/category/name</strong> match with <strong>category.name</strong> Parsing Element. then the value is assigned</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span></span>result=[{
 &quot;category&quot;:{
   &quot;id&quot;: 3,
   &quot;name&quot;: &quot;Cats&quot;
 }
 }]
</pre></div>
</div>
<ul class="simple">
<li>it founds <strong>/Pets/Pet/id</strong> match with <strong>id</strong> then the value is assigned</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span></span>result=[{
 &quot;category&quot;:{
   &quot;id&quot;: 3,
   &quot;name&quot;: &quot;Cats&quot;
 }
 &quot;id&quot;:1
 }]
</pre></div>
</div>
<ul class="simple">
<li>it founds <strong>/Pets/Pet/name</strong> match with <strong>name</strong> then the value is assigned</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span></span>result=[{
 &quot;category&quot;:{
   &quot;id&quot;: 3,
   &quot;name&quot;: &quot;Cats&quot;
 },
 &quot;id&quot;:1,
 &quot;name&quot;:&quot;Van Kedisi&quot;,
 }]
</pre></div>
</div>
<ul class="simple">
<li>it founds <strong>/Pets/Pet/photoUrls/photoUrl</strong> match with <strong>photoUrls</strong> Parsing Element then the new array is created and assigned</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span></span>result=[{
 &quot;category&quot;:{
   &quot;id&quot;: 3,
   &quot;name&quot;: &quot;Cats&quot;
 },
 &quot;id&quot;:1,
 &quot;name&quot;:&quot;Van Kedisi&quot;,
 &quot;photoUrls&quot;:[]
 }]
</pre></div>
</div>
<ul class="simple">
<li>it founds <strong>/Pets/Pet/photoUrls/photoUrl</strong> match with <strong>photoUrls</strong> then  the value of <strong>photoUrls</strong> is assigned</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span></span>result=[{
 &quot;category&quot;:{
   &quot;id&quot;: 3,
   &quot;name&quot;: &quot;Cats&quot;
 },
 &quot;id&quot;:1,
 &quot;name&quot;:&quot;Van Kedisi&quot;,
 &quot;photoUrls&quot;:[&quot;url1&quot;,&quot;url2&quot;,&quot;url3&quot;]
 }]
</pre></div>
</div>
<p>after reading all fields under <strong>/Pets/Pet</strong> path following result generated.</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>result=[{
 &quot;category&quot;:{
   &quot;id&quot;: 3,
   &quot;name&quot;: &quot;Cats&quot;
 },
 &quot;id&quot;:1,
 &quot;name&quot;:&quot;Van Kedisi&quot;,
 &quot;photoUrls&quot;:[&quot;url1&quot;,&quot;url2&quot;,&quot;url3&quot;],
 &quot;status&quot;:&quot;sold&quot;,
 &quot;tags&quot;:[
       {
          &quot;id&quot;:1,
          &quot;name&quot;: &quot;New&quot;
       },
       {
          &quot;id&quot;:1,
          &quot;name&quot;: &quot;Cute&quot;
       },
       {
          &quot;id&quot;:1,
          &quot;name&quot;: &quot;Popular&quot;
       }
 ]

 }]
</pre></div>
</div>
<ul class="simple">
<li>it can’t find <strong>/Pets/Pet/isPopular</strong> but <strong>isPopular</strong> property has <strong>default</strong> value. When <strong>/Pets/Pet</strong> (<strong>parent tag</strong>) tag is closed then it’s expression is evaluated. The result of expression is assigned to <strong>isPopular</strong> property.</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span></span>result=[{
  &quot;category&quot;:{
    &quot;id&quot;: 3,
    &quot;name&quot;: &quot;Cats&quot;
  },
  &quot;id&quot;:1,
  &quot;name&quot;:&quot;Van Kedisi&quot;,
  &quot;photoUrls&quot;:[&quot;url1&quot;,&quot;url2&quot;,url3&quot;],
  &quot;status&quot;:&quot;sold&quot;,
  &quot;tags&quot;:[
        {
           &quot;id&quot;:1,
           &quot;name&quot;: &quot;New&quot;
        },
        {
           &quot;id&quot;:1,
           &quot;name&quot;: &quot;Cute&quot;
        },
        {
           &quot;id&quot;:1,
           &quot;name&quot;: &quot;Popular&quot;
        }
  ],
  &quot;isPopular&quot;: true
  }]
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="&lt;no title&gt;" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, M.Fatih Ercik

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>